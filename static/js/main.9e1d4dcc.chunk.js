(this["webpackJsonpchord-paper-fe"]=this["webpackJsonpchord-paper-fe"]||[]).push([[0],{122:function(e,t,n){e.exports=n.p+"static/media/symphony.4ca23f9c.png"},164:function(e,t,n){e.exports=n(188)},169:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(13),c=n.n(i),l=(n(169),n(142)),d=n(225),u=n(242),s=n(192),h=n(47),m=n(18),f=n(37),p=n(122),y=n.n(p),g=n(146),v=n(65),b=function(e){return/^\s+$/.test(e)},E=function(e){return b(e)?"\xa0":e},w=Object(s.a)((function(e){return{root:{margin:e.spacing(5),padding:e.spacing(5),minHeight:e.spacing(46),minWidth:e.spacing(92)}}}))(g.a),C=function(){return o.a.createElement(d.a,{container:!0,"data-testid":"About"},o.a.createElement(d.a,{item:!0,xs:3}),o.a.createElement(d.a,{item:!0,xs:6},o.a.createElement(w,null,o.a.createElement(v.a,{variant:"h6"},"About Chord Paper"),o.a.createElement(v.a,{variant:"h6"},"\xa0"),o.a.createElement(v.a,null,"Chord Paper makes writing and reading chord sheets easier than the traditional monospace font formatting. It's a passion project born out of frustration at the clunkiness of writing chords on a computer."),o.a.createElement(v.a,null,"\xa0"),o.a.createElement(v.a,null,"Hope you will find that Chord Paper helps you focus more of your musical time on playing and listening, and less on formatting."))),o.a.createElement(d.a,{item:!0,xs:3}))},O=n(11),k=n(231),j=n(232),S=n(233),B=n(221),L=n(234),x=n(235),T=n(229),I=n(30),N=n.n(I),D=n(128),A=n.n(D),F=n(130),P=n.n(F),M=n(131),W=n.n(M),R=n(129),z=n.n(R),_=n(86),J=n.n(_),H=n(132),V=n.n(H),q=n(134),G=n.n(q),U=n(133),Y=n.n(U),K=n(194),X=n(85),Z=n.n(X),$=Object(s.a)((function(e){return{root:{margin:e.spacing(5),padding:e.spacing(5),minHeight:e.spacing(46),minWidth:e.spacing(92),position:"relative"}}}))(g.a),Q=function(){return o.a.createElement(d.a,{container:!0,"data-testid":"Tutorial"},o.a.createElement(d.a,{item:!0,xs:3}),o.a.createElement(d.a,{item:!0,xs:6},o.a.createElement($,null,o.a.createElement(v.a,null,"An Error Occurred Oh No"))),o.a.createElement(d.a,{item:!0,xs:3}))},ee=n(5),te=n(230),ne=n(127),ae=n.n(ne),re=n(60),oe=n(224),ie=n(39),ce=n(40),le=n(90),de=n(89),ue=n(9),se=n(21),he=n(59),me=n.n(he),fe=n(80),pe=n.n(fe),ye=function(e){var t=e.match(/((\w|')+|[^\w'])/g);return null===t?[]:t},ge=se.d({chord:se.c,lyric:se.c,type:se.b("ChordBlock")}),ve=function(){function e(t){var n=t.chord,a=t.lyric;Object(ie.a)(this,e),this.id=void 0,this.chord=void 0,this.lyric=void 0,this.type=void 0,this.id=pe.a.generate(),this.chord=n,this.lyric=a,this.type="ChordBlock"}return Object(ce.a)(e,[{key:"toJSON",value:function(){return me.a.omit(this,"id")}},{key:"split",value:function(t){if(0===t)throw new Error("Split index can't be zero");var n=this.lyricTokens,a=n.slice(0,t),r=n.slice(t),o=new e({chord:this.chord,lyric:a.join("")});return this.chord="",this.lyric=r.join(""),o}},{key:"contentEquals",value:function(e){return this.chord===e.chord&&this.lyric===e.lyric}},{key:"isEmpty",value:function(){return""===this.chord&&""===this.lyric}},{key:"lyricTokens",get:function(){return ye(this.lyric)}}],[{key:"fromValidatedFields",value:function(t){return new e({chord:t.chord,lyric:t.lyric})}},{key:"deserialize",value:function(t){var n=Object(ue.parseJSON)(t,(function(){return new Error("Failed to parse json string")}));if(Object(ue.isLeft)(n))return n;var a=n.right,r=ge.decode(a);return Object(ue.isLeft)(r)?Object(ue.left)(new Error("Invalid Chord Block object")):Object(ue.right)(new e({chord:r.right.chord,lyric:r.right.lyric}))}}]),e}(),be=n(62),Ee=n(72),we=function(){var e=new Ee.DiffMatchPatch;return e.diffTimeout=0,e.matchThreshold=0,e}(),Ce=function(){function e(t){Object(ie.a)(this,e),this.chordLine=void 0,this.currBlockIndex=void 0,this.currCharIndex=void 0,this.blockBuffer=void 0,this.prependLyrics=void 0,this.chordLine=t,this.currBlockIndex=0,this.currCharIndex=0,this.blockBuffer=t.elements.map((function(){return""})),this.prependLyrics=""}return Object(ce.a)(e,[{key:"atBlockBoundary",value:function(){return 0===this.currCharIndex}},{key:"currentBlock",value:function(){return this.chordLine.elements[this.currBlockIndex]}},{key:"currentChar",value:function(){return this.currentBlock().lyric.charAt(this.currCharIndex)}},{key:"nextChar",value:function(){this.currCharIndex+=1,this.currCharIndex>=this.currentBlock().lyric.length&&(this.currBlockIndex+=1,this.currCharIndex=0)}},{key:"skip",value:function(e){if(this.currentChar()!==e)throw new Error("Mismatched characters when skipping");this.blockBuffer[this.currBlockIndex]+=e,this.nextChar()}},{key:"insert",value:function(e){if(this.atBlockBoundary()){var t=this.currBlockIndex-1;t>=0?this.blockBuffer[t]+=e:this.prependLyrics+=e}else this.blockBuffer[this.currBlockIndex]+=e}},{key:"delete",value:function(e){if(this.currentChar()!==e)throw new Error("Mismatched characters when deleting");this.nextChar()}},{key:"finish",value:function(){for(var e=0;e<this.chordLine.elements.length;e++)this.chordLine.elements[e].lyric=this.blockBuffer[e];""!==this.prependLyrics&&this.chordLine.elements.splice(0,0,new ve({chord:"",lyric:this.prependLyrics})),this.chordLine.normalizeBlocks()}}]),e}(),Oe=function(e,t){var n=we.diff_main(e.lyrics,t);we.diff_cleanupSemanticLossless(n);var a,r=new Ce(e),o=Object(be.a)(n);try{for(o.s();!(a=o.n()).done;){var i,c=a.value,l=c[0],d=Object(be.a)(c[1]);try{for(d.s();!(i=d.n()).done;){var u=i.value;switch(l){case Ee.DiffOperation.DIFF_EQUAL:r.skip(u);break;case Ee.DiffOperation.DIFF_INSERT:r.insert(u);break;case Ee.DiffOperation.DIFF_DELETE:r.delete(u)}}}catch(s){d.e(s)}finally{d.f()}}}catch(s){o.e(s)}finally{o.f()}r.finish(),function(e){var t,n=[],a=Object(be.a)(e.elements);try{for(a.s();!(t=a.n()).done;){var r=t.value;""===r.lyric&&""===r.chord||n.push(r)}}catch(s){a.e(s)}finally{a.f()}e.elements=n}(e),function(e){for(var t=e.elements,n=0;n<t.length;n++){var a=t[n];if(""===a.lyric){if(n>0&&t[n-1].lyric.length>1&&t[n-1].lyric.endsWith(" ")){var r=t[n-1],o=r.lyric.length-1;r.lyric=r.lyric.slice(0,o)}a.lyric=" "}}}(e)},ke=function(){function e(t){Object(ie.a)(this,e),this.elements=void 0,this.elements=void 0!==t?t:[]}return Object(ce.a)(e,[{key:"indexOf",value:function(e){var t=this.elements.findIndex((function(t){return t.id===e}));if(t<0)throw new Error("Can't find element inside collection");return t}},{key:"addAfter",value:function(e){for(var t,n=this.indexOf(e.id),a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];(t=this.elements).splice.apply(t,[n+1,0].concat(r))}},{key:"addBeginning",value:function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];(e=this.elements).splice.apply(e,[0,0].concat(n))}},{key:"remove",value:function(e){var t=this.indexOf(e.id);return this.elements.splice(t,1)[0]}},{key:"get",value:function(e){var t=this.indexOf(e.id);return this.elements[t]}}]),e}(),je=se.d({elements:se.a(ge),type:se.b("ChordLine")}),Se=function(e){Object(le.a)(n,e);var t=Object(de.a)(n);function n(e){var a;return Object(ie.a)(this,n),void 0===e&&(e=[new ve({chord:"",lyric:""})]),(a=t.call(this,e)).id=void 0,a.type=void 0,a.id=pe.a.generate(),a.type="ChordLine",a}return Object(ce.a)(n,[{key:"replaceLyrics",value:function(e){e!==this.lyrics&&Oe(this,e)}},{key:"setChord",value:function(e,t){var n=this.indexOf(e.id);this.elements[n].chord=t,this.normalizeBlocks()}},{key:"splitBlock",value:function(e,t){var n=this.indexOf(e.id),a=this.elements[n].split(t);this.elements.splice(n,0,a)}},{key:"normalizeBlocks",value:function(){for(var e=[],t=0;t<this.elements.length;t++){var n=this.elements[t];if(""===n.chord&&e.length>0)e[e.length-1].lyric+=n.lyric;else e.push(n)}e.length!==this.elements.length&&(this.elements=e)}},{key:"clone",value:function(){var e=new n(this.elements);return e.id=this.id,e}},{key:"toJSON",value:function(){return me.a.omit(this,"id")}},{key:"contentEquals",value:function(e){if(this.chordBlocks.length!==e.chordBlocks.length)return!1;return this.chordBlocks.reduce((function(t,n,a){if(!t)return!1;var r=e.chordBlocks[a];return!!n.contentEquals(r)}),!0)}},{key:"isEmpty",value:function(){return!(this.chordBlocks.length>1)&&(0===this.chordBlocks.length||this.chordBlocks[0].isEmpty())}},{key:"chordBlocks",get:function(){return this.elements}},{key:"lyrics",get:function(){return this.chordBlocks.map((function(e){return e.lyric})).join("")}}],[{key:"fromValidatedFields",value:function(e){return new n(e.elements.map((function(e){return ve.fromValidatedFields(e)})))}},{key:"deserialize",value:function(e){var t=Object(ue.parseJSON)(e,(function(){return new Error("Failed to parse json string")}));if(Object(ue.isLeft)(t))return t;var n=t.right,a=je.decode(n);return Object(ue.isLeft)(a)?Object(ue.left)(new Error("Invalid Chord Line object")):Object(ue.right)(this.fromValidatedFields(a.right))}},{key:"fromLyrics",value:function(e){return new n([new ve({chord:"",lyric:e})])}}]),n}(ke),Be=se.d({copiedChordLines:se.a(je)});!function(e){e[e.START=0]="START",e[e.END=1]="END",e[e.MIDDLE=2]="MIDDLE"}(a||(a={}));var Le=function e(t,n){var r=xe(t,n);if(r===a.MIDDLE)return[t,n];var o=Te(t);return r===a.END&&(o+=1),e(function(e){if(null===e.parentNode)throw new Error("Node doesn't have parent");return e.parentNode}(t),o)},xe=function(e,t){switch(e.nodeType){case Node.TEXT_NODE:return function(e,t){if(0===t)return a.START;var n=e.nodeValue;if(null===n)throw new Error("Text node has no value?");return t===n.length?a.END:a.MIDDLE}(e,t);case Node.ELEMENT_NODE:return function(e,t){var n=e.childNodes;return 0===t?a.START:t===n.length?a.END:a.MIDDLE}(e,t);default:throw new Error("Crash for now "+e.nodeType)}},Te=function(e){if(null===e.parentNode)throw new Error("wtf");for(var t=e.parentNode.childNodes,n=0;n<t.length;n++)if(t.item(n)===e)return n;throw new Error("Child node doesn't exist in parent???")},Ie=function(){var e=window.getSelection();if(null===e||0===e.rangeCount)return[];var t=function(e){var t=document.createRange(),n=e.getRangeAt(0);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset);for(var a=1;a<e.rangeCount;a++){var r=e.getRangeAt(a);-1===r.compareBoundaryPoints(Range.START_TO_START,t)&&t.setStart(r.startContainer,r.startOffset),1===r.compareBoundaryPoints(Range.END_TO_END,t)&&t.setEnd(r.endContainer,r.endOffset)}return t}(e);!function(e){var t=Le(e.startContainer,e.startOffset),n=Object(O.a)(t,2),a=n[0],r=n[1],o=Le(e.endContainer,e.endOffset),i=Object(O.a)(o,2),c=i[0],l=i[1];e.setStart(a,r),e.setEnd(c,l)}(t);for(var n=document.querySelectorAll("[data-lineid]"),a=[],r=0;r<n.length;r++){var o=n.item(r);if(t.intersectsNode(o)){var i=o.getAttribute("data-lineid");if(null===i)throw new Error("Unexpected - line element should have line ID because that's how it was selected");a.push(i)}}return a},Ne=function(e){var t=Object(h.b)().enqueueSnackbar;return function(n){var a=Ie(),r=e.chordLines.filter((function(e){return a.includes(e.id)}));if(0===r.length)return!1;var o,i=function(e){var t={copiedChordLines:e};return JSON.stringify(t)}(r);return n.clipboardData.setData("application/json",i),n.preventDefault(),o=1===r.length?"1 line copied to your clipboard":"".concat(r.length," lines copied to your clipboard"),t(o,{variant:"info"}),!0}},De=function(e){var t=Object(h.b)().enqueueSnackbar;return function(n,a){var r=function(e){var t=Object(ue.parseJSON)(e,(function(){return new Error("Failed to parse json string")}));if(Object(ue.isLeft)(t))return t;var n=t.right;if(void 0===n.copiedChordLines)return null;var a=Be.decode(n);if(Object(ue.isLeft)(a))return Object(ue.left)(new Error("Invalid Chord Lines payload"));var r=a.right.copiedChordLines.map((function(e){return Se.fromValidatedFields(e)}));return Object(ue.right)(r)}(a);if(null===r)return!1;if(Object(ue.isLeft)(r)){var o="Failed to paste copied lines: "+r.left.message;return t(o,{variant:"error"}),!0}var i=e.get(n),c=r.right;return e.addAfter.apply(e,[n].concat(Object(re.a)(c))),i.isEmpty()&&e.remove(n),!0}},Ae=n(71),Fe=n(226),Pe=n(143),Me=Object(Ae.b)(Pe.a);var We,Re=function(e){var t=function(e){var t=Object(r.useRef)(Me);if(!e.children)throw new Error("No children provided to DND wrapper");if(void 0===t.current.dragDropManager)throw new Error("No DND manager found");return o.a.createElement(Fe.a,{manager:t.current.dragDropManager},e.children)}(e);return o.a.createElement(o.a.Fragment,null,t)},ze=o.a.createContext({startInteraction:function(){},endInteraction:function(){}}),_e=n(23),Je=n(245),He=n(190),Ve=n(28),qe=n(220),Ge=n(33),Ue=function(e){return{backgroundColor:e.palette.primary.main}},Ye=function(e){return{color:e.palette.primary.main}},Ke=function(e){return{borderStyle:"solid",borderColor:e.palette.primary.main,borderRadius:"0.3em",borderWidth:"0.075em"}},Xe=function(e,t){return void 0===(null===t||void 0===t?void 0:t.customLyricClassSelector)?e:"".concat(e,".").concat(t.customLyricClassSelector)},Ze=function(e,t){return void 0===(null===t||void 0===t?void 0:t.customChordSymbolClassSelector)?e:"".concat(e,".").concat(t.customChordSymbolClassSelector)},$e=function(e){return function(t){var n,a=Ue(t),r=Ye(t),o=void 0!==(null===e||void 0===e?void 0:e.outline)?e.outline(t):void 0,i=Object(_e.a)(Object(_e.a)({},Ke(t)),o),c=Xe(".".concat("LyricTokenSpace"),e),l=Xe(".".concat("LyricTokenWord"),e),d=Ze(".".concat("ChordSymbol"),e);return{root:(n={},Object(Ve.a)(n,"& ".concat(c),a),Object(Ve.a)(n,"& ".concat(l),r),Object(Ve.a)(n,"& ".concat(d),i),n)}}},Qe=function(e){return function(t){var n,a=Ue(t),r=Ye(t),o=void 0!==(null===e||void 0===e?void 0:e.outline)?e.outline(t):void 0,i=Object(_e.a)(Object(_e.a)({},Ke(t)),o),c=Xe(".".concat("LyricTokenSpace"),e),l=Xe(".".concat("LyricTokenWord"),e),d=function(e,t){return void 0===(null===t||void 0===t?void 0:t.customChordTargetClassSelector)?e:"".concat(e,".").concat(t.customChordTargetClassSelector)}(".".concat("ChordTarget"),e),u=Ze(".".concat("ChordSymbol"),e);return{root:(n={},Object(Ve.a)(n,"& ".concat(d,":hover ~ ").concat(c),a),Object(Ve.a)(n,"& ".concat(d,":hover ~ * ").concat(c),a),Object(Ve.a)(n,"& ".concat(d,":hover ~ ").concat(l),r),Object(Ve.a)(n,"& ".concat(d,":hover ~ * ").concat(l),r),Object(Ve.a)(n,"& ".concat(d).concat(u,":hover"),i),Object(Ve.a)(n,"& ".concat(d,":hover ").concat(u),i),n)}}},et={variant:"h6",display:"inline"},tt=Object(qe.a)({root:{tabSize:16,whiteSpace:"pre",wordSpacing:".15em",display:"inline-block"}}),nt=Object(ee.a)(tt)(v.a),at=function(e){var t,n,a=null!==(t=e.className)&&void 0!==t?t:"",r=Object(Ge.a)((n={},Object(Ve.a)(n,"LyricTokenSpace",b(e.children)),Object(Ve.a)(n,"LyricTokenWord",!b(e.children)),Object(Ve.a)(n,a,void 0!==e.className),n));return o.a.createElement(nt,Object.assign({},et,{className:r,"data-testid":e["data-testid"]}),e.children)},rt=n(227),ot=n(195),it=n(70),ct=n.n(it),lt=n(124),dt=n.n(lt),ut=n(246),st=n(247),ht=function(e){var t=Object(st.a)({accept:"chord",drop:function(t){return t.handled||(t.handled=!0,e.onDropped(t.chord,t.sourceBlockID)),t},collect:function(e){return{isOver:e.isOver({shallow:!0})}}}),n=Object(O.a)(t,2),a=n[0].isOver,r=n[1],i=e.children,c=a?e.dragOverClassName:e.hoverableClassName;return void 0!==c&&(i=o.a.cloneElement(i,{className:c})),o.a.createElement(ut.a,{rootRef:r},i)},mt=n(248),ft=Object(s.a)({root:{whiteSpace:"pre",cursor:"pointer",fontFamily:"PoriChord",userSelect:"all"}})(v.a),pt=function(e){return o.a.createElement(ft,{variant:"h6",display:"inline","data-testid":"ChordSymbol",className:e.className},function(){var t=e.children;return t.endsWith(" ")?t:E(t+=" ")}())},yt=function(e){var t,n,a=Object(mt.a)({item:(t=e.chordBlockID,n=e.children,{type:"chord",sourceBlockID:t,chord:n,handled:!1})}),r=Object(O.a)(a,2)[1];return o.a.createElement(ut.a,{rootRef:r},o.a.createElement(pt,{className:e.className},e.children))},gt=Object(s.a)((function(e){return{root:{width:"100%",backgroundColor:N.a[200],whiteSpace:"pre",display:"inline-block"}}}))(v.a),vt=Object(oe.a)({root:{display:"inline-block",width:"100%",pointerEvents:"auto",userSelect:"text",outline:"none","&:empty:before":{content:'"\\a0"'}}}),bt=function(e){var t=o.a.createRef(),n=function(){return null===t.current||null===t.current.textContent?"":t.current.textContent},a=function(e){return"Enter"===e.key&&(h(n()),!0)},i=function(){var e=window.getSelection();return null===e||0===e.rangeCount?null:e.getRangeAt(0)},c=function(){if(null===t.current)return null;var e=t.current,n=i();return null!==n&&e.contains(n.startContainer)&&e.contains(n.endContainer)?[n.startOffset,n.endOffset]:null},l=function(t){if(!e.onSpecialBackspace)return!1;if(!("Backspace"===t.key&&(t.metaKey||t.ctrlKey)))return!1;var n=c();return null!==n&&(0===n[0]&&0===n[1]&&(e.onSpecialBackspace(),!0))},d=function(e){if(null===t.current)return!1;var n=i();return null!==n&&(n.deleteContents(),n.insertNode(document.createTextNode(e)),n.collapse(!1),t.current.normalize(),!0)},u=function(e){return"Tab"===e.key&&d("\t")},s=function(e){return!(!e.metaKey&&!e.ctrlKey)&&("b"===e.key||"B"===e.key||"u"===e.key||"U"===e.key||"i"===e.key||"I"===e.key)},h=function(t){e.onFinish&&e.onFinish(t)},m=function(e){var t=function(){var e=n(),t=c();return null===t?[n(),""]:[e.slice(0,t[0]),e.slice(t[1])]}(),a=Object(O.a)(t,2),r=a[0],o=a[1],i=r+e[0],l=e.slice(1);return l[l.length-1]+=o,[i,l]},f=function(n){if(void 0===e.onPasteOverflow)return!1;var a=n.clipboardData.getData("text/plain");if(""===a)return!1;var r=a.split("\r\n");if(0===(r=r.flatMap((function(e){return e.split("\n")}))).length)return!1;if(1===r.length)return d(r[0]);var o=m(r),i=Object(O.a)(o,2),c=i[0],l=i[1];return function(e){null!==t.current&&(t.current.textContent=e)}(c),h(c),e.onPasteOverflow(l),!0},p=function(t){if(void 0===e.onJSONPaste)return!1;var a=t.clipboardData.getData("application/json");if(""===a)return!1;var r=e.onJSONPaste(a);return r&&h(n()),r};Object(r.useEffect)((function(){if(null!==t.current){t.current.focus();var e=window.getSelection();if(null!==e){var n=document.createRange();n.selectNodeContents(t.current),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}}}));var y=vt();return o.a.createElement(gt,{classes:e.classes,variant:e.variant,display:"inline","data-testid":"EditableLine"},o.a.createElement("span",{contentEditable:!0,className:y.root,ref:t,"data-testid":"InnerInput",onBlur:function(){h(n())},onKeyDown:function(e){for(var t=0,n=[a,l,u,s];t<n.length;t++){if((0,n[t])(e))return void e.preventDefault()}},onPaste:function(e){for(var t=0,n=[p,f];t<n.length;t++){if((0,n[t])(e))return void e.preventDefault()}},suppressContentEditableWarning:!0},e.children))},Et=Object(ee.a)({root:{color:"transparent",cursor:"pointer",userSelect:"none",position:"absolute",left:0,top:0,transform:"translate(0%, -115%)"}})(nt),wt=function(e){return o.a.createElement(Et,Object.assign({},et,{onClick:e.onClick,classes:e.classes,className:e.className,"data-testid":"ChordEditButton"}),e.children)},Ct=function(e){var t=0===e.index?"FirstLyricToken":void 0,n=o.a.createElement(at,{className:t,"data-testid":"Token-".concat(e.index)},e.children);return o.a.createElement(Je.a,{className:e.className,key:e.index,position:"relative",display:"inline","data-testid":"TokenBox-".concat(e.index)},void 0===e.invisibleTarget?null:o.a.createElement(wt,{className:Object(Ge.a)("ChordTarget","ChordSymbol"),onClick:e.invisibleTarget.onClick},e.children),n)},Ot=Object(s.a)((function(e){return{root:{fontFamily:"PoriChord",borderBottom:"solid",borderBottomColor:e.palette.primary.main,borderBottomWidth:"2px"}}}))(bt),kt={dragOver:Object(oe.a)($e({outline:function(e){return{borderColor:ct.a[300],color:ct.a[300]}},customLyricClassSelector:"FirstLyricToken",customChordSymbolClassSelector:"BlockChordSymbol",customChordTargetClassSelector:"BlockChordTarget"})),hoverable:Object(oe.a)(Qe({outline:function(e){return{color:e.palette.primary.dark}},customLyricClassSelector:"FirstLyricToken",customChordSymbolClassSelector:"BlockChordSymbol",customChordTargetClassSelector:"BlockChordTarget"}))},jt={dragOver:Object(oe.a)($e()),hoverable:Object(oe.a)(Qe())},St=function(e){var t=Object(r.useState)(!1),n=Object(O.a)(t,2),a=n[0],i=n[1],c=Object(r.useContext)(ze),l=c.startInteraction,u=c.endInteraction,s=e.chordBlock.lyricTokens;0===s.length&&(s=["\xa0"]);var h={hoverable:kt.hoverable(),dragOver:kt.dragOver()},m={hoverable:jt.hoverable(),dragOver:jt.dragOver()},f=""===e.chordBlock.chord&&!a,p=function(t){return function(n){0!==t&&e.onBlockSplit&&e.onBlockSplit(e.chordBlock,t),i(!0),l(),n.stopPropagation()}},y=function(){e.onChordChange&&e.onChordChange(e.chordBlock,"")},g=function(t){return function(n,a){e.onChordDragAndDrop&&e.onChordDragAndDrop(e.chordBlock,t,n,a)}},v=function(t){e.onChordChange&&e.onChordChange(e.chordBlock,t),i(!1),u()},b=s.map((function(e,t){return function(e,t){var n=t>0||f?{onClick:p(t)}:void 0;return o.a.createElement(ht,{key:t,onDropped:g(t),hoverableClassName:m.hoverable.root,dragOverClassName:m.dragOver.root},o.a.createElement(Ct,{index:t,invisibleTarget:n},e))}(e,t)}));return o.a.createElement(Je.a,{display:"inline-block"},o.a.createElement(ht,{onDropped:g(0),hoverableClassName:h.hoverable.root,dragOverClassName:h.dragOver.root},o.a.createElement(d.a,{container:!0,direction:"column","data-testid":e["data-testid"]},o.a.createElement(d.a,{className:Object(Ge.a)("ChordTarget","BlockChordTarget"),onClick:p(0),item:!0},a?o.a.createElement(Je.a,{"data-testid":"ChordEdit"},o.a.createElement(Ot,{width:"5em",variant:"h6",onFinish:v},e.chordBlock.chord)):o.a.createElement(yt,{chordBlockID:e.chordBlock,onDragged:y,className:Object(Ge.a)("ChordSymbol","BlockChordSymbol")},e.chordBlock.chord)),o.a.createElement(d.a,{item:!0,"data-testid":"Lyric"},b))))},Bt={root:{color:ct.a[300]}},Lt=Object(ee.a)(Bt)(dt.a),xt=Object(ee.a)((function(e){return{contained:{backgroundColor:"transparent","&:hover":{backgroundColor:e.palette.primary.dark}}}}))(rt.a),Tt=Object(ee.a)({tooltip:{padding:0,background:"transparent",margin:0}})(ot.a),It=Object(ee.a)({root:{"&:hover":{backgroundColor:N.a[100]}}})(Je.a),Nt=function(e){var t=e.chordLine.chordBlocks;0===t.length&&(t=[new ve({chord:"",lyric:""})]);var n=function(t,n){e.chordLine.setChord(t,n),e.onChangeLine&&e.onChangeLine(e.chordLine)},a=function(t,n){e.chordLine.splitBlock(t,n),e.onChangeLine&&e.onChangeLine(e.chordLine)},r=t.map((function(t,r){return o.a.createElement(St,{key:t.id,chordBlock:t,onChordDragAndDrop:e.onChordDragAndDrop,onChordChange:n,onBlockSplit:a,"data-testid":"Block-".concat(r)})}));return o.a.createElement(Tt,{placement:"right",title:o.a.createElement(xt,{onClick:e.onRemove,"data-testid":"RemoveButton"},o.a.createElement(Lt,null)),interactive:!0},o.a.createElement(It,{"data-testid":"NoneditableLine",onClick:e.onEdit},r))},Dt=Object(ee.a)({root:{userSelect:"all"}})(Je.a),At=Object(ee.a)((function(e){return{root:Object(_e.a)(Object(_e.a)({},tt.root),{},{borderBottom:"solid",borderBottomColor:e.palette.secondary.main,borderBottomWidth:"2px"})}}))(bt),Ft=function(e){var t,n=Object(r.useState)(!1),a=Object(O.a)(n,2),i=a[0],c=a[1],l=Object(r.useState)(!1),d=Object(O.a)(l,2),u=d[0],s=d[1],h=Object(r.useContext)(ze),m=h.startInteraction,f=h.endInteraction,p=function(){c(!0),m()},y=function(t){c(!1),f(),e.chordLine.replaceLyrics(t),e.onChangeLine&&e.onChangeLine(e.chordLine)},g=function(){e.onAddLine&&e.onAddLine(e.chordLine)},v=function(){u||(s(!0),e.onRemoveLine&&setTimeout((function(){e.onRemoveLine&&e.onRemoveLine(e.chordLine)}),250))},b=function(t){e.onPasteOverflow&&(e.onPasteOverflow(e.chordLine,t),c(!1))},E=function(t){return void 0!==e.onJSONPaste&&e.onJSONPaste(e.chordLine,t)},w=function(){e.onMergeWithPreviousLine&&(e.onMergeWithPreviousLine(e.chordLine)&&c(!1))},C=function(){return o.a.createElement(Nt,{chordLine:e.chordLine,onChangeLine:e.onChangeLine,onChordDragAndDrop:e.onChordDragAndDrop,onAdd:g,onRemove:v,onEdit:p})};t=i?o.a.createElement(o.a.Fragment,null,C(),function(){var t=e.chordLine.lyrics;return o.a.createElement(Je.a,{position:"absolute",left:"0",bottom:"2px",width:"100%"},o.a.createElement(At,{variant:"h6",onFinish:y,onJSONPaste:E,onPasteOverflow:b,onSpecialBackspace:w},t))}()):C();var k=u?"up":"down";return o.a.createElement(He.a,{direction:k,in:!u,timeout:250},o.a.createElement(Dt,null,o.a.createElement(Je.a,{borderBottom:1,borderColor:"grey.50",width:"100%",position:"relative","data-lineid":e["data-lineid"],"data-testid":e["data-testid"]},t)))},Pt=n(126),Mt=n.n(Pt),Wt=n(103),Rt=Object(s.a)({root:{"&:hover .MuiDivider-root":{backgroundColor:"rgba(0, 0, 0, 0.25)"}}})(d.a),zt=Object(s.a)({tooltip:{padding:0,background:"transparent",margin:0}})(ot.a),_t=Object(s.a)({root:{width:"100%",backgroundColor:"transparent"}})(T.a),Jt=Object(s.a)((function(e){return{root:{color:e.palette.secondary.light}}}))(Mt.a),Ht=function(e){var t=Object(Wt.a)();return o.a.createElement(zt,{title:o.a.createElement(rt.a,{"data-testid":"AddButton",onClick:e.onAdd},o.a.createElement(Jt,null)),interactive:!0,placement:"right"},o.a.createElement(Rt,{container:!0,direction:"column",justify:"center",onClick:e.onAdd,"data-testid":e["data-testid"],style:{minHeight:t.spacing(3)}},o.a.createElement(_t,null)))},Vt=Object(oe.a)({root:{pointerEvents:"none"}}),qt=Object(ee.a)({root:{width:"auto"}})(g.a),Gt=function(e){var t=Object(r.useState)(!1),n=Object(O.a)(t,2),a=n[0],i=n[1],c=Ne(e.song),l=De(e.song),u={startInteraction:function(){setTimeout((function(){i(!0)}))},endInteraction:function(){setTimeout((function(){i(!1)}))}},s=Vt(),h=function(){var t=new Se;e.song.addBeginning(t),b()},m=function(t){var n=new Se;e.song.addAfter(t,n),b()},f=function(t){e.song.remove(t),b()},p=function(e){b()},y=function(t,n){var a,r=n.map((function(e){return Se.fromLyrics(e)}));(a=e.song).addAfter.apply(a,[t].concat(Object(re.a)(r))),b()},g=function(e,t){return!!l(e,t)&&(b(),!0)},v=function(t){return!!e.song.mergeLineWithPrevious(t)&&(b(),!0)},b=function(){e.onSongChanged&&e.onSongChanged(e.song)},E=function(t,n,a,r){var o=e.song.findLineAndBlock(r),i=Object(O.a)(o,2),c=i[0];i[1].chord="";var l=e.song.findLineAndBlock(t),d=Object(O.a)(l,2),u=d[0],s=d[1];0!==n&&u.splitBlock(t,n),s.chord=a,c.normalizeBlocks(),u.normalizeBlocks(),b()},w=!a,C=w?void 0:s.root;return o.a.createElement(Re,null,o.a.createElement(ze.Provider,{value:u},o.a.createElement(qt,{onCopy:w?c:void 0,className:C,elevation:0},o.a.createElement(d.a,{container:!0,justify:"center"},o.a.createElement(d.a,{item:!0,xs:10},function(){var t=e.song.chordLines.flatMap((function(e,t){return[o.a.createElement(Ft,{key:e.id,chordLine:e,"data-lineid":e.id,onAddLine:m,onRemoveLine:f,onChangeLine:p,onJSONPaste:g,onPasteOverflow:y,onMergeWithPreviousLine:v,onChordDragAndDrop:E,"data-testid":"Line-".concat(t)}),o.a.createElement(Ht,{key:"NewLine-"+e.id,onAdd:function(){m(e)},"data-testid":"NewLine-".concat(t)})]})),n=o.a.createElement(Ht,{key:"NewLine-Top",onAdd:h,"data-testid":"NewLine-Top"});return t.splice(0,0,n),t}())))))},Ut=Object(ee.a)((function(e){return{root:{color:e.palette.success.main}}}))(ae.a),Yt=Object(ee.a)({root:{display:"inherit"}})(te.a),Kt=function(e){var t=Object(r.useState)(e.initialSong),n=Object(O.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(!1),l=Object(O.a)(c,2),d=l[0],u=l[1],s=function(t){d||void 0!==e.expectedSong&&e.expectedSong.contentEquals(t)&&u(!0)};return o.a.createElement(Yt,{badgeContent:o.a.createElement(Ut,null),invisible:!d},o.a.createElement(g.a,{elevation:1},o.a.createElement(Gt,{song:a,onSongChanged:function(e){i(e.clone()),s(e)}})))},Xt=se.d({title:se.c,composedBy:se.c,performedBy:se.c,asHeardFrom:se.c}),Zt=se.d({elements:se.a(je),metadata:Xt}),$t=function(e){Object(le.a)(n,e);var t=Object(de.a)(n);function n(e,a){var r;return Object(ie.a)(this,n),void 0===e&&(e=[new Se]),(r=t.call(this,e)).metadata=void 0,r.metadata=void 0!==a?a:{title:"",composedBy:"",performedBy:"",asHeardFrom:""},r}return Object(ce.a)(n,[{key:"clone",value:function(){return new n(this.elements,this.metadata)}},{key:"toJSON",value:function(){return this}},{key:"mergeLineWithPrevious",value:function(e){var t,n=this.indexOf(e.id);if(0===n)return!1;var a=this.chordLines[n-1],r=a.chordBlocks.length-1;a.chordBlocks[r].lyric+=" ";var o=this.chordLines[n];return(t=a.chordBlocks).push.apply(t,Object(re.a)(o.chordBlocks)),a.normalizeBlocks(),this.chordLines.splice(n,1),!0}},{key:"contentEquals",value:function(e){if(this.chordLines.length!==e.chordLines.length)return!1;if(!me.a.isEqual(this.metadata,e.metadata))return!1;return this.chordLines.reduce((function(t,n,a){if(!t)return!1;var r=e.chordLines[a];return!!n.contentEquals(r)}),!0)}},{key:"findLineAndBlock",value:function(e){var t,n=Object(be.a)(this.chordLines);try{for(n.s();!(t=n.n()).done;){var a=t.value,r=a.chordBlocks.find((function(t){return t.id===e.id}));if(void 0!==r)return[a,r]}}catch(o){n.e(o)}finally{n.f()}throw new Error("BlockID can't be found in the entire song")}},{key:"chordLines",get:function(){return this.elements}},{key:"title",get:function(){return this.metadata.title},set:function(e){this.metadata.title=e}},{key:"performedBy",get:function(){return this.metadata.performedBy},set:function(e){this.metadata.performedBy=e}},{key:"composedBy",get:function(){return this.metadata.composedBy},set:function(e){this.metadata.composedBy=e}},{key:"asHeardFrom",get:function(){return this.metadata.asHeardFrom},set:function(e){this.metadata.asHeardFrom=e}}],[{key:"fromValidatedFields",value:function(e){return new n(e.elements.map((function(e){return Se.fromValidatedFields(e)})),e.metadata)}},{key:"deserialize",value:function(e){var t=Object(ue.parseJSON)(e,(function(){return new Error("Failed to parse json string")}));if(Object(ue.isLeft)(t))return t;var n=t.right,a=Zt.decode(n);return Object(ue.isLeft)(a)?Object(ue.left)(new Error("Invalid Chord Song object")):Object(ue.right)(this.fromValidatedFields(a.right))}},{key:"fromLyricsLines",value:function(e){return new n(e.map((function(e){return Se.fromLyrics(e)})))}}]),n}(ke),Qt=Object(s.a)((function(e){return{root:{color:e.palette.secondary.light}}}))(v.a),en=Object(s.a)((function(e){return{root:{color:e.palette.primary.main}}}))(v.a),tn=function(){return o.a.createElement(v.a,null,"\xa0")},nn=function(){return o.a.createElement(v.a,{variant:"h5"},"Learning Chord Paper")},an=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,null,"Chord Paper aims to be as intuitive and handy as possible, but there could still be features that aren't obvious as we work out the kinks. Let's walk through the basics together by making some changes to chords and lyrics!"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Since Chord Paper is still in early stages, some of these could change in the future."))},rn=[{title:"Starting",route:"/learn/start",component:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(nn,null),o.a.createElement(tn,null),o.a.createElement(an,null))}},{title:"Edit a Chord",route:"/learn/edit_chord",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly "}),new ve({chord:"Bm",lyric:"appear?"})])]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly "}),new ve({chord:"B7",lyric:"appear?"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Editing Chords"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Click on a chord to change it, then press enter to commit your changes. Let's change the chord above"," ",o.a.createElement(Qt,{display:"inline"},"appear")," ","from ",o.a.createElement(en,{display:"inline"},"Bm")," to"," ",o.a.createElement(en,{display:"inline"},"B7"),"."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}},{title:"Remove a Chord",route:"/learn/remove_chord",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly "}),new ve({chord:"B7",lyric:"appear?"})])]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly appear?"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Removing Chords"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Simply remove all the chord text when editing to clear the chord. Let's remove the"," ",o.a.createElement(en,{display:"inline"},"B7"),"."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}},{title:"Add a Chord",route:"/learn/add_chord",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly appear?"})])]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly "}),new ve({chord:"B7",lyric:"appear?"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Adding Chords"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Add a chord by hovering above a word, and clicking the outlined box. Let's add"," ",o.a.createElement(en,{display:"inline"},"B7")," back above"," ",o.a.createElement(Qt,{display:"inline"},"appear"),"."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}},{title:"Drag and Drop Chords",route:"/learn/drag_and_drop_chord",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds "}),new ve({chord:"B7",lyric:"suddenly appear?"})])]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly "}),new ve({chord:"B7",lyric:"appear?"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Dragging and Dropping Chords"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"It's also possible to drag and drop chords onto different parts of the line when its initial placement wasn't quite correct. Just drag a chord and drop it to the space above or on another lyric."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Let's move the"," ",o.a.createElement(en,{display:"inline"},"B7")," above"," ",o.a.createElement(Qt,{display:"inline"},"suddenly")," ","to above"," ",o.a.createElement(Qt,{display:"inline"},"appear"),"."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}},{title:"Edit Lyrics",route:"/learn/edit_lyrics",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly "}),new ve({chord:"B7",lyric:"appear?"})])]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why oh why do birds suddenly "}),new ve({chord:"B7",lyric:"appear?"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Editing Lyrics"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"You can edit the lyrics by clicking anywhere along the lyrics. Finish editing lyrics by pressing enter or clicking outside the text edit box. Chord Paper will move chords along with lyrics when you edit them. Let's change the lyrics to:"),o.a.createElement(Qt,null,"Why oh why do birds suddenly appear?"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}},{title:"Instrumentals",route:"/learn/instrumentals",component:function(){var e=new $t([new Se([new ve({chord:"",lyric:"|"}),new ve({chord:"Bm",lyric:"\t"}),new ve({chord:"A",lyric:"\t|"}),new ve({chord:"E",lyric:"\t"}),new ve({chord:"C#m7",lyric:"\t|"})])]),t=new $t,n=new $t([new Se([new ve({chord:"",lyric:"|"}),new ve({chord:"Bm",lyric:"\t"}),new ve({chord:"A",lyric:"\t|"}),new ve({chord:"E",lyric:"\t"}),new ve({chord:"C#m7",lyric:"\t|"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Instrumental Sections"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"One way to annotate chords that do not happen over lyrics is using whitespace - notably"," ",o.a.createElement(Qt,{display:"inline"},"tab")," or"," ",o.a.createElement(Qt,{display:"inline"},"space"),". Both will provide an empty lyric space to anchor chords to and you should use either to get the formatting that you want."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Tabs are good for providing a large width for long instrumental sections. You can insert a"," ",o.a.createElement(Qt,{display:"inline"},"tab")," ","character by pressing tab when editing lyrics."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"This example demonstrates using tabs and the | (pipe) character for annotating and organizing chords without lyrics."),o.a.createElement(Kt,{initialSong:e}),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Let's replicate the example from above using just the"," ",o.a.createElement(Qt,{display:"inline"},"tab")," and"," ",o.a.createElement(Qt,{display:"inline"},"|")," ","characters. Insert 4 tabs by editing the lyrics, and pressing tab 4 times. Then divide them with"," ",o.a.createElement(Qt,{display:"inline"},"|"),", and add"," ",o.a.createElement(en,{display:"inline"},"Bm"),","," ",o.a.createElement(en,{display:"inline"},"A"),","," ",o.a.createElement(en,{display:"inline"},"E"),","," ",o.a.createElement(en,{display:"inline"},"C#m7")," ","respectively to each tab."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:t,expectedSong:n}))}},{title:"Chord Positioning",route:"/learn/chord_positioning",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly "}),new ve({chord:"",lyric:"appear?"})])]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly"}),new ve({chord:"F#7",lyric:" ap-"}),new ve({chord:"B7sus4",lyric:"pear?"}),new ve({chord:"B7",lyric:"\t"})])]),n=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly"}),new ve({chord:"F#7",lyric:" ap-"}),new ve({chord:"B7sus4",lyric:"pear?"}),new ve({chord:"B7",lyric:"\t"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Chord Positioning"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Sometimes you want to emphasize a chord landing on a specific syllable or between words. Without the overhead of standard notation, we can do this by breaking up lyrics and annotating spaces."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Let's change the lyrics to:"),o.a.createElement(Qt,null,"Why do birds suddenly ap-pear?"),o.a.createElement(v.a,null,"And add a tab after the"," ",o.a.createElement(Qt,{display:"inline"},"?")),o.a.createElement(v.a,null,"Then add the chord"," ",o.a.createElement(en,{display:"inline"},"F#7")," to the space before"," ",o.a.createElement(Qt,{display:"inline"},"ap-")),o.a.createElement(v.a,null,"Add the chord"," ",o.a.createElement(en,{display:"inline"},"B7sus4")," to"," ",o.a.createElement(Qt,{display:"inline"},"pear")),o.a.createElement(v.a,null,"Add the chord"," ",o.a.createElement(en,{display:"inline"},"B7")," to the tabbed space after"," "),o.a.createElement(v.a,null,"It should look like this:"),o.a.createElement(Kt,{initialSong:t}),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:n}))}},{title:"Adding New Line",route:"/learn/add_line",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly ap-"}),new ve({chord:"B7sus4",lyric:"pear?"}),new ve({chord:"B7",lyric:" "})])]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly ap-"}),new ve({chord:"B7sus4",lyric:"pear?"}),new ve({chord:"B7",lyric:" "})]),new Se([new ve({chord:"",lyric:"Every time you are near"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Adding New Lines"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"You can add more lines by hovering below (or above) and existing line, and clicking the gray line or the add icon to the right."),o.a.createElement(v.a,null,"Let's add a line, and change the lyrics to:"),o.a.createElement(Qt,null,"Why do birds suddenly ap-pear?"),o.a.createElement(Qt,null,"Every time you are near"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}},{title:"Removing a Line",route:"/learn/remove_line",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly ap-"}),new ve({chord:"B7sus4",lyric:"pear?"}),new ve({chord:"B7",lyric:" "})]),new Se([new ve({chord:"",lyric:"Every time you are near"})])]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly ap-"}),new ve({chord:"B7sus4",lyric:"pear?"}),new ve({chord:"B7",lyric:" "})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Removing Lines"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Similarly, you can remove a line by hovering over the line, and clicking the red remove icon to the right. Let's remove the second line of lyrics."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}},{title:"Pasting Lyrics",route:"/learn/paste_lyrics",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly ap-"}),new ve({chord:"B7sus4",lyric:"pear?"}),new ve({chord:"B7",lyric:" "})]),new Se]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly ap-"}),new ve({chord:"B7sus4",lyric:"pear?"}),new ve({chord:"B7",lyric:" "})]),new Se([new ve({chord:"",lyric:"Every time you are near"})]),new Se([new ve({chord:"",lyric:"Just like me, they long to be"})]),new Se([new ve({chord:"",lyric:"Close to you"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Pasting Lyrics"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"It would be annoying to have to type out the lyrics. But we can paste it in! Copy these lyrics, click into the second line, and paste:"),o.a.createElement(Qt,{variantMapping:{body1:"div"}},"Every time you are near"),o.a.createElement(Qt,{variantMapping:{body1:"div"}},"Just like me, they long to be"),o.a.createElement(Qt,{variantMapping:{body1:"div"}},"Close to you"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}},{title:"Merging Lines",route:"/learn/merge_lines",component:function(){var e=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds"})]),new Se([new ve({chord:"",lyric:"suddenly "}),new ve({chord:"B7",lyric:"appear?"})])]),t=new $t([new Se([new ve({chord:"C^",lyric:"Why do birds suddenly "}),new ve({chord:"B7",lyric:"appear?"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Merging Lines"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Sometimes the lyrics that we paste in is not the division we want. Let's merge the two lines. Click into the second line, move the cursor to the beginning of the line, and press"),o.a.createElement(v.a,null,"(CTRL+Backspace : Windows | CMD+Backspace : Mac)"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}},{title:"Copying and Pasting Lines",route:"/learn/copy_and_paste",component:function(){var e=new $t([new Se([new ve({chord:"",lyric:"But I'm a "}),new ve({chord:"G",lyric:"creep, I'm a "}),new ve({chord:"B7",lyric:"weirdo"})]),new Se([new ve({chord:"",lyric:"What the hell am doing "}),new ve({chord:"C",lyric:"here? I don't be-"}),new ve({chord:"Cm",lyric:"long here"})]),new Se([new ve({chord:"",lyric:"I don't care if it "}),new ve({chord:"G",lyric:"hurts, I wanna have con-"}),new ve({chord:"B7",lyric:"trol"})]),new Se([new ve({chord:"",lyric:"I want a perfect "}),new ve({chord:"C",lyric:"body, I want a perfect "}),new ve({chord:"Cm",lyric:"soul"})]),new Se([new ve({chord:"",lyric:"I want you to "}),new ve({chord:"G",lyric:"notice when I'm not a-"}),new ve({chord:"B7",lyric:"round"})]),new Se([new ve({chord:"",lyric:"You're so fucking "}),new ve({chord:"C",lyric:"special, I wish I was "}),new ve({chord:"Cm",lyric:"special"})])]),t=new $t([new Se([new ve({chord:"",lyric:"But I'm a "}),new ve({chord:"G",lyric:"creep, I'm a "}),new ve({chord:"B7",lyric:"weirdo"})]),new Se([new ve({chord:"",lyric:"What the hell am doing "}),new ve({chord:"C",lyric:"here? I don't be-"}),new ve({chord:"Cm",lyric:"long here"})]),new Se([new ve({chord:"",lyric:"I don't care if it "}),new ve({chord:"G",lyric:"hurts, I wanna have con-"}),new ve({chord:"B7",lyric:"trol"})]),new Se([new ve({chord:"",lyric:"I want a perfect "}),new ve({chord:"C",lyric:"body, I want a perfect "}),new ve({chord:"Cm",lyric:"soul"})]),new Se([new ve({chord:"",lyric:"I want you to "}),new ve({chord:"G",lyric:"notice when I'm not a-"}),new ve({chord:"B7",lyric:"round"})]),new Se([new ve({chord:"",lyric:"You're so fucking "}),new ve({chord:"C",lyric:"special, I wish I was "}),new ve({chord:"Cm",lyric:"special"})]),new Se([new ve({chord:"",lyric:"But I'm a "}),new ve({chord:"G",lyric:"creep, I'm a "}),new ve({chord:"B7",lyric:"weirdo"})]),new Se([new ve({chord:"",lyric:"What the hell am doing "}),new ve({chord:"C",lyric:"here? I don't be-"}),new ve({chord:"Cm",lyric:"long here"})])]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(v.a,{variant:"h6"},"Copying and Pasting Lines"),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Sometimes you want to just repeat what's on the page without entering it all over again - choruses with the same lyrics, repeating instrumental sections. You can do this by copying and pasting entire lines that you've already written out."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"The easiest way to copy is to drag down from some empty space on the left of the line you wish to start copying from, then pressing (CTRL or CMD) + C, or right click -> copy."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"To paste, click to edit a lyric line, and press (CTRL or CMD) + V, or right click -> paste."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Note that there's no partial copy - if any part of the line is selected during the copy, the whole line is copied."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"If you have trouble selecting a line, try dragging your cursor starting further left and above the line."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Let's try copying and pasting the repeated chorus:"),o.a.createElement(Qt,{variantMapping:{body1:"div"}},"But I'm a creep, I'm a weirdo"),o.a.createElement(Qt,{variantMapping:{body1:"div"}},"What the hell am I doing here? I don't belong here."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Copy those two lines, add a new line at the bottom, and paste it there."),o.a.createElement(tn,null),o.a.createElement(v.a,null,"Try it!"),o.a.createElement(Kt,{initialSong:e,expectedSong:t}))}}],on=Object(s.a)({root:{color:"white"}})(Z.a),cn=Object(s.a)((function(e){return{root:{marginTop:e.spacing(5),marginBottom:e.spacing(5),padding:e.spacing(5),minHeight:e.spacing(46),width:e.spacing(92),position:"relative"}}}))(g.a),ln=Object(s.a)((function(e){return{root:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)}}}))(K.a),dn=function(e){var t=function(t){return t.route===e.route},n=rn.find(t);if(void 0===n)return o.a.createElement(Q,null);var a=rn.findIndex(t),r=null;if(a<rn.length-1){var i=rn[a+1];r=o.a.createElement(f.b,{to:i.route},o.a.createElement(ln,{color:"primary"},o.a.createElement(on,null)))}return o.a.createElement(cn,null,o.a.createElement(n.component,null),r)},un=Object(s.a)({root:{cursor:"pointer"}}),sn=un(J.a),hn=un(A.a),mn=Object(s.a)({root:{maxWidth:"none"}})(d.a),fn=Object(s.a)((function(e){return{root:{padding:e.spacing(3)}}}))(d.a),pn=Object(s.a)({root:{color:N.a[600]}})(v.a),yn=Object(s.a)({root:{minWidth:"24px",height:"100vh"}})(g.a),gn=Object(s.a)({root:{height:"100%",width:"100%"}})(d.a),vn=function(){var e=Object(r.useState)(!1),t=Object(O.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(!1),c=Object(O.a)(i,2),l=c[0],u=c[1],s={variant:"h6"},h=function(){u(!l)},m={textDecoration:"none",color:"inherit"},p=o.a.createElement(x.a,{variant:"persistent",open:!n,anchor:"left"},o.a.createElement(yn,null,o.a.createElement(gn,{container:!0,direction:"column",alignContent:"center"},o.a.createElement(mn,{item:!0,xs:1}),o.a.createElement(mn,{item:!0,xs:1},o.a.createElement(sn,{onClick:function(){return a(!0)}})),o.a.createElement(mn,{item:!0,xs:10})))),y=o.a.createElement(x.a,{variant:"persistent",open:n,anchor:"left"},o.a.createElement(fn,{container:!0,alignItems:"center",justify:"space-between"},o.a.createElement(d.a,{item:!0},o.a.createElement(f.b,{to:"/",style:m,"data-testid":"Menu-TitleButton"},o.a.createElement(pn,{variant:"h5",display:"inline"},"Chord Paper"))),o.a.createElement(d.a,{item:!0},o.a.createElement(hn,{onClick:function(){return a(!1)}}))),o.a.createElement(T.a,null),o.a.createElement(L.a,null,o.a.createElement(f.b,{key:"/song",to:"/song",style:m,"data-testid":"Menu-HomeButton"},o.a.createElement(k.a,{key:"Song",button:!0},o.a.createElement(S.a,null,o.a.createElement(V.a,null)),o.a.createElement(j.a,{primary:"Song",primaryTypographyProps:s}))),o.a.createElement(f.b,{key:"/demo",to:"/demo",style:m,"data-testid":"Menu-DemoButton"},o.a.createElement(k.a,{key:"Demo",button:!0},o.a.createElement(S.a,null,o.a.createElement(Y.a,null)),o.a.createElement(j.a,{primary:"Demo",primaryTypographyProps:s}))),function(){var e=rn.map((function(e){return{title:e.title,route:e.route}})).map((function(e){return o.a.createElement(f.b,{key:e.route,to:e.route,style:m},o.a.createElement(k.a,{button:!0},o.a.createElement(j.a,{inset:!0,primary:e.title})))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(k.a,{key:"Learn",button:!0,onClick:h},o.a.createElement(S.a,null,o.a.createElement(z.a,null)),o.a.createElement(j.a,{primary:"Learn",primaryTypographyProps:s}),l?o.a.createElement(P.a,null):o.a.createElement(W.a,null)),o.a.createElement(B.a,{in:l,timeout:"auto"},o.a.createElement(L.a,null,e)))}(),o.a.createElement(f.b,{key:"/about",to:"/about",style:m,"data-testid":"Menu-AboutButton"},o.a.createElement(k.a,{key:"About",button:!0},o.a.createElement(S.a,null,o.a.createElement(G.a,null)),o.a.createElement(j.a,{primary:"About",primaryTypographyProps:s})))));return o.a.createElement(o.a.Fragment,null,p,y)},bn=n(102),En=n.n(bn),wn=n(135),Cn=n(138),On=n.n(Cn),kn=n(139),jn=n.n(kn),Sn=n(137),Bn=n.n(Sn),Ln=n(251),xn=n(252),Tn=n(236),In=Object(s.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}))(Ln.a),Nn=function(e){var t=Object(r.useState)(!1),n=Object(O.a)(t,2),a=n[0],i=n[1],c=Object(h.b)().enqueueSnackbar;function l(){var t=this.files;if(null!==t)if(t.length>1)c("Multiple files selected, only one file expected",{variant:"error"});else{var n=t.item(0);if(null!==n){var a=new FileReader;a.onload=function(t){if(!(null===t.target||null===t.target.result||t.target.result instanceof ArrayBuffer)){var n=$t.deserialize(t.target.result);Object(ue.isLeft)(n)?c("Can't load file, Song file failed validation",{variant:"error"}):e.onLoad&&e.onLoad(n.right)}},a.readAsText(n)}else c("Could not retrieve file from file dialog",{variant:"error"})}}var d=function(){var e=Object(wn.a)(En.a.mark((function e(){var t;return En.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("input")).type="file",t.addEventListener("change",l),t.click();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(In,{icon:o.a.createElement(xn.a,null),open:a,onOpen:function(){i(!0)},onClose:function(){i(!1)},ariaLabel:"SpeedDial"},o.a.createElement(Tn.a,{icon:o.a.createElement(Bn.a,null),tooltipTitle:"Save",onClick:function(){var t=JSON.stringify(e.song),n=new Blob([t],{type:"application/json"}),a=URL.createObjectURL(n),r=document.createElement("a");r.download="chord_paper_song.json",""!==e.song.title&&(r.download=e.song.title+".json"),r.href=a,r.click(),URL.revokeObjectURL(a)}}),o.a.createElement(Tn.a,{icon:o.a.createElement(On.a,null),tooltipTitle:"Load",onClick:d}),o.a.createElement(Tn.a,{icon:o.a.createElement(jn.a,null),tooltipTitle:"New Song",onClick:e.onNewSong}),o.a.createElement(Tn.a,{icon:o.a.createElement(Z.a,null),tooltipTitle:"Play Mode",onClick:e.onPlay}))},Dn=n(145),An=Object(s.a)({root:{color:N.a[400]}})(v.a),Fn=function(e){var t=Object(r.useState)(!1),n=Object(O.a)(t,2),a=n[0],i=n[1],c=function(){i(!0)},l=function(t){i(!1),e.onValueChange&&e.onValueChange(t)},d=a?function(){if("inherit"===e.variant||"srOnly"===e.variant)throw new Error("can't have these variant types");return o.a.createElement(bt,{variant:e.variant,onFinish:l,"data-testid":"EditableLine"},e.children)}():function(){e.children,e.placeholder,e.onValueChange;var t=Object(Dn.a)(e,["children","placeholder","onValueChange"]);return""===e.children&&void 0!==e.placeholder?o.a.createElement(An,Object.assign({},t,{onClick:c}),e.placeholder):o.a.createElement(v.a,Object.assign({},t,{onClick:c}),E(e.children))}();return o.a.createElement(Je.a,null,d)},Pn=function(e){var t=Object(Wt.a)(),n=function(){e.onSongChanged&&e.onSongChanged(e.song)},a=o.a.createElement(Je.a,{paddingBottom:t.spacing(.5)},o.a.createElement(Fn,{variant:"h4",align:"center","data-testid":"SongTitle",placeholder:"Song Title",onValueChange:function(t){e.song.title=t,n()}},e.song.title)),r=o.a.createElement(d.a,{container:!0,justify:"center"},o.a.createElement(d.a,{container:!0,item:!0,xs:4,justify:"center"},o.a.createElement(d.a,{item:!0},o.a.createElement(v.a,{display:"block",variant:"caption"},"Composed by:"," "),o.a.createElement(Fn,{display:"block",variant:"caption",placeholder:"Stock Waterman",onValueChange:function(t){e.song.composedBy=t,n()},"data-testid":"ComposedBy"},e.song.composedBy))),o.a.createElement(d.a,{container:!0,item:!0,xs:4,justify:"center"},o.a.createElement(d.a,{item:!0},o.a.createElement(v.a,{display:"inline",variant:"caption"},"Performed by:"," "),o.a.createElement(Fn,{variant:"caption",placeholder:"Rick Astley",onValueChange:function(t){e.song.performedBy=t,n()},"data-testid":"PerformedBy"},e.song.performedBy))),o.a.createElement(d.a,{container:!0,item:!0,xs:4,justify:"center"},o.a.createElement(d.a,{item:!0},o.a.createElement(v.a,{display:"inline",variant:"caption"},"As heard from:"," "),o.a.createElement(Fn,{variant:"caption",placeholder:"https://www.youtube.com/watch?v=dM9zwZCOmjM",onValueChange:function(t){e.song.asHeardFrom=t,n()},"data-testid":"AsHeardAt"},e.song.asHeardFrom))));return o.a.createElement(Je.a,{paddingTop:t.spacing(1),paddingLeft:t.spacing(.5),paddingRight:t.spacing(.5),"data-testid":"Header"},a,r)},Mn=Object(ee.a)((function(e){return{root:{margin:e.spacing(5),minHeight:e.spacing(92),minWidth:e.spacing(92)}}}))(g.a),Wn=function(e){var t=function(t){var n;null===(n=e.onSongChanged)||void 0===n||n.call(e,t)};return o.a.createElement(Mn,{elevation:3,"data-testid":"ChordPaper"},o.a.createElement(Pn,{"data-testid":"Header",song:e.song,onSongChanged:t}),o.a.createElement(Gt,{song:e.song,onSongChanged:t}),o.a.createElement(Nn,{song:e.song,onLoad:function(t){var n;null===(n=e.onSongChanged)||void 0===n||n.call(e,t)},onNewSong:function(){var t;null===(t=e.onSongChanged)||void 0===t||t.call(e,new $t)},onPlay:e.onPlay}))},Rn=n(144),zn=function(e){return o.a.createElement(Je.a,{display:"inline-block"},o.a.createElement(d.a,{container:!0,direction:"column",component:"span"},o.a.createElement(d.a,{item:!0},o.a.createElement(pt,null,e.block.chord)),o.a.createElement(d.a,{item:!0},o.a.createElement(at,{"data-testid":"lyric"},e.block.lyric))))},_n=function(e){return o.a.createElement(Je.a,null,e.line.chordBlocks.map((function(e){return o.a.createElement(zn,{block:e})})))},Jn=function(e){var t=o.a.useRef(),n=e.formatting.numberOfColumns>=1?e.formatting.numberOfColumns:1,a=e.formatting.columnMargin>=0?e.formatting.columnMargin:0,i=Object(Rn.a)(),c=i/n,l=c/2,d=function(e){var t=window.scrollX+(e?i:-i),n=t%c;n<l?t-=n:t+=c-n;window.scrollTo({left:t,top:0,behavior:"smooth"})},u=function(){return d(!0)},h=function(){return d(!1)},m=function(e){return 0===e.button&&(u(),!0)},f=function(e){return 2===e.button&&(h(),!0)},p=Object(s.a)({root:{columnGap:"0px",columnRuleWidth:"2px",columnRuleStyle:"solid",columnRuleColor:N.a[300],columns:n,height:"100vh",width:"100%"}})(g.a),y=Object(s.a)({root:{marginLeft:"".concat(a,"px"),marginRight:"".concat(a,"px")}})(Je.a),v=e.song.chordLines.map((function(e){return o.a.createElement(_n,{line:e})}));return Object(r.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.focus()})),o.a.createElement(ut.a,{rootRef:t},o.a.createElement(p,{onMouseDown:function(e){for(var t=0,n=[m,f];t<n.length;t++){if((0,n[t])(e))return void e.preventDefault()}},onContextMenu:function(e){e.preventDefault()},tabIndex:0,onKeyDown:function(e){"ArrowLeft"===e.key||"ArrowUp"===e.key||"Backspace"===e.key?h():u(),e.preventDefault()}},o.a.createElement(y,null,v)))},Hn=n(141),Vn=n.n(Hn),qn=n(140),Gn=n.n(qn),Un=n(237),Yn=n(244),Kn=n(238),Xn=n(239),Zn=n(240),$n=n(241),Qn=Object(s.a)((function(e){return{root:{margin:e.spacing(1)}}}))(Je.a),ea=function(e){var t=Object(r.useState)({numberOfColumns:e.defaultSettings.numberOfColumns.toString(),fontSize:e.defaultSettings.fontSize.toString(),columnMargin:e.defaultSettings.columnMargin.toString()}),n=Object(O.a)(t,2),a=n[0],i=n[1],c=function(e){if(""===e||b(e))return Object(ue.left)(new Error("A value is required"));var t=Number(e);if(isNaN(t))return Object(ue.left)(new Error("Only numbers are allowed"));if(t<=0)return Object(ue.left)(new Error("Only positive numbers are allowed"));var n=Math.floor(t);return t!==n?Object(ue.left)(new Error("Only integers are allowed")):Object(ue.right)(n)},l=function(){var e=c(a.numberOfColumns),t=c(a.fontSize),n=c(a.columnMargin);if(Object(ue.isLeft)(e))return e;if(Object(ue.isLeft)(t))return t;if(Object(ue.isLeft)(n))return n;var r={numberOfColumns:e.right,fontSize:t.right,columnMargin:n.right};return Object(ue.right)(r)},d=function(e){var t,n=Object(_e.a)({label:e.label,defaultValue:a[e.field],onChange:(t=e.field,function(e){var n=e.target.value,r=Object(_e.a)({},a);r[t]=n,i(r)})},function(e){var t=c(e);return{error:!!Object(ue.isLeft)(t)||void 0,helperText:Object(ue.isLeft)(t)?t.left.message:void 0}}(a[e.field]));return null!==e.adornment&&(n.InputProps={endAdornment:o.a.createElement(Un.a,{position:"end"},e.adornment)}),o.a.createElement(Qn,null,o.a.createElement(Yn.a,n))};return o.a.createElement(Kn.a,{open:e.open,onClose:e.onClose},o.a.createElement(Xn.a,null,"Display Settings"),o.a.createElement(Zn.a,null,[{label:"number of columns",field:"numberOfColumns",adornment:null},{label:"font size",field:"fontSize",adornment:"px"},{label:"column margin",field:"columnMargin",adornment:"px"}].map((function(e){return d(e)}))),o.a.createElement($n.a,null,o.a.createElement(rt.a,{onClick:e.onClose},"Cancel"),o.a.createElement(rt.a,{disabled:Object(ue.isLeft)(l()),onClick:function(){var t,n=l();Object(ue.isLeft)(n)||null===(t=e.onSubmit)||void 0===t||t.call(e,{numberOfColumns:n.right.numberOfColumns,fontSize:n.right.fontSize,columnMargin:n.right.columnMargin})}},"OK")))},ta=Object(s.a)({root:{backgroundColor:"transparent"}})(J.a),na=Object(s.a)((function(e){return{root:{position:"fixed",top:e.spacing(2),right:e.spacing(2),"& .MuiSpeedDial-fab":{backgroundColor:"transparent",color:N.a[500]}}}}))(Ln.a),aa=function(e){var t=Object(r.useState)(!1),n=Object(O.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(!1),l=Object(O.a)(c,2),d=l[0],u=l[1];return d?o.a.createElement(ea,{open:!0,onClose:function(){return u(!1)},defaultSettings:e.formatting,onSubmit:function(t){var n;null===(n=e.onFormattingChange)||void 0===n||n.call(e,t),u(!1)}}):o.a.createElement(na,{icon:o.a.createElement(ta,null),direction:"down",open:a,onOpen:function(){i(!0)},onClose:function(){i(!1)},ariaLabel:"SpeedDial",FabProps:{color:"inherit"}},o.a.createElement(Tn.a,{icon:o.a.createElement(Gn.a,null),tooltipTitle:"Display Settings",onMouseDownCapture:function(){return u(!0)}}),o.a.createElement(Tn.a,{icon:o.a.createElement(Vn.a,null),tooltipTitle:"Exit Play Mode",onMouseDownCapture:function(t){var n;null===(n=e.onExit)||void 0===n||n.call(e),t.stopPropagation()}}))},ra=n(249),oa=function(e){if("number"===typeof e)return e;if(!e.includes("rem"))return 20;var t=e.split("rem"),n=Number(t[0]);if(isNaN(n))return 20;return 16*n},ia=function(e){var t,n=Object(Wt.a)(),a=Object(r.useState)({numberOfColumns:2,fontSize:oa(null!==(t=n.typography.h6.fontSize)&&void 0!==t?t:20),columnMargin:20}),i=Object(O.a)(a,2),c=i[0],d=i[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(aa,{formatting:c,onFormattingChange:d,onExit:e.onEdit}),o.a.createElement(u.a,{theme:function(e){return Object(ra.a)(Object(l.a)(Object(_e.a)(Object(_e.a)({},e),{},{typography:Object(_e.a)(Object(_e.a)({},e.typography),{},{h6:{fontSize:c.fontSize}})})))}},o.a.createElement(Jn,{song:e.song,formatting:c})))};!function(e){e[e.Edit=0]="Edit",e[e.Play=1]="Play"}(We||(We={}));var ca,la=function(e){var t=Object(r.useState)(e.initialSong),n=Object(O.a)(t,2),a=n[0],i=n[1];return e.mode===We.Play?o.a.createElement(ia,{song:a,onEdit:e.onEdit}):o.a.createElement(Wn,{song:a,onSongChanged:function(t){var n,a=t.clone();null===(n=e.onSongChanged)||void 0===n||n.call(e,a),i(a)},onPlay:e.onPlay})},da=function(e){var t=Object(m.g)(),n="".concat(e.basePath,"/edit"),a="".concat(e.basePath,"/play"),r=function(){t.push(n)},i=function(){t.push(a)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(m.b,{key:n,path:n},o.a.createElement(la,{initialSong:e.initialSong,mode:We.Edit,onSongChanged:e.onSongChanged,onEdit:r,onPlay:i})),o.a.createElement(m.b,{key:a,path:a},o.a.createElement(la,{initialSong:e.initialSong,mode:We.Play,onSongChanged:e.onSongChanged,onEdit:r,onPlay:i})))},ua=Object(s.a)((function(e){return{root:{position:"absolute",top:0,right:0,padding:e.spacing(1),color:N.a[600]}}}))(v.a),sa=function(){var e=null!=="0.6.9.48.gdfca937"?"0.6.9.48.gdfca937":"dev-build";return o.a.createElement(ua,{variant:"subtitle2"},e)},ha=["We're no strangers to love","You know the rules and so do I","A full commitment's what I'm thinking of","You wouldn't get this from any other guy","I just wanna tell you how I'm feeling","Gotta make you understand","Never gonna give you up","Never gonna let you down","Never gonna run around and desert you","Never gonna make you cry","Never gonna say goodbye","Never gonna tell a lie and hurt you"],ma=["A","Bb7","Cm","D/C#","Em7","Fmaj7","G^"],fa=function(){var e=ha.map((function(e){return pa(e)}));return new $t(e,{title:"Never Gonna Give You Up",performedBy:"Rick Astley",composedBy:"Stock Waterman",asHeardFrom:"https://www.youtube.com/watch?v=dM9zwZCOmjM"})},pa=function(e){var t=function(e,t){for(var n=ye(e),a=[],r=0;r<n.length;r+=t){var o=n.slice(r,r+t);a.push(o.join(""))}return a}(e,4).map((function(e){return new ve({chord:ma[Math.floor(Math.random()*ma.length)],lyric:e})}));return new Se(t)},ya=n(147),ga=n(243),va=n(149),ba=n(189),Ea=Object(va.a)((function(e){return Object(ba.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})})),wa=Object(l.a)({palette:{primary:{main:"#4fc3f7",light:"#8bf6ff",dark:"#0093c4",contrastText:"#000000"},secondary:{main:"#844ffc",light:"#bb7eff",dark:"#4a1fc8",contrastText:"#ffffff"},success:{main:"#00c853",light:"#5efc82",dark:"#009624",contrastText:"#000000"}},typography:{fontFamily:"Merriweather",fontWeightRegular:300}}),Ca=Object(s.a)((function(e){return{variantSuccess:{backgroundColor:e.palette.success.main}}}))(h.a),Oa=Object(s.a)({root:{backgroundImage:"url(".concat(y.a,")"),minHeight:"100vh"}})(d.a),ka=(ca=da,function(e){var t=Object(r.useState)(null),n=Object(O.a)(t,2),a=n[0],i=n[1],c=Object(h.b)().enqueueSnackbar,l=Ea();if(null===a)return i(function(){var e=function(){var e=window.localStorage.getItem("last-auto-saved-song");return null===e?Object(ue.right)(null):$t.deserialize(e)}();if(Object(ue.isLeft)(e)){var t="Error loading previously auto saved song: "+e.left.message;return c(t,{variant:"error"}),new $t}return null===e.right?new $t:(c("Loaded last saved song",{variant:"success"}),e.right)}()),o.a.createElement(ya.a,{className:l.backdrop,open:!0},o.a.createElement(ga.a,null));var d=Object(_e.a)(Object(_e.a)({},e),{},{initialSong:a,onSongChanged:function(e){!function(e){var t=window.localStorage,n=JSON.stringify(e);t.setItem("last-auto-saved-song",n)}(e)}});return o.a.createElement(ca,d)}),ja=function(){var e,t=Object(m.h)(),n=o.a.createElement(m.d,null,o.a.createElement(m.a,{from:"/",to:"/song",exact:!0}),o.a.createElement(m.a,{from:"/song",to:"/song/edit",exact:!0}),o.a.createElement(m.b,{key:"/song",path:"/song"},o.a.createElement(ka,{basePath:"/song"})),o.a.createElement(m.a,{from:"/demo",to:"/demo/edit",exact:!0}),o.a.createElement(m.b,{key:"/demo",path:"/demo"},o.a.createElement(da,{basePath:"/demo",initialSong:fa()})),rn.map((function(e){return o.a.createElement(m.b,{key:e.route,exact:!0,path:e.route},o.a.createElement(dn,{route:e.route}))})),o.a.createElement(m.b,{key:"/about",exact:!0,path:"/about"},o.a.createElement(C,null)),o.a.createElement(m.a,{to:"/"}));return o.a.createElement(o.a.Fragment,null,(e=t.pathname,!["/song/play","/demo/play"].includes(e)&&o.a.createElement(vn,null)),o.a.createElement(Oa,{container:!0},o.a.createElement(d.a,{item:!0,container:!0,justify:"center"},n)),o.a.createElement(sa,null))};var Sa=function(){return o.a.createElement(u.a,{theme:wa},o.a.createElement(Ca,null,o.a.createElement(f.a,null,o.a.createElement(ja,null),";")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Sa,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[164,1,2]]]);
//# sourceMappingURL=main.9e1d4dcc.chunk.js.map