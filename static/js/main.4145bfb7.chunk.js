(this["webpackJsonpchord-paper-fe"]=this["webpackJsonpchord-paper-fe"]||[]).push([[0],{108:function(e,t,n){e.exports=n.p+"static/media/symphony.fcb1692c.png"},125:function(e,t,n){e.exports=n(147)},130:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),o=n.n(i),c=(n(130),n(111)),l=n(187),s=n(193),d=n(23),u=n(5),h=n(184),f=n(69),m=n(195),p=n(188),v=n(113),g=n(18),y=n(194),b=n(39),k=n.n(b),E=function(e){var t=Object(a.useState)(e.children),n=Object(d.a)(t,2),i=n[0],o=n[1],c=r.a.createRef(),l=Object(g.a)(),s=function(t){e.onFinish&&e.onFinish(t)};return r.a.createElement(y.a,{autoFocus:!0,variant:"filled",inputProps:Object(v.a)({"data-testid":"InnerInput"},function(){var t,n,a,r=void 0;void 0!==e.variant&&(r=null===l||void 0===l||null===(a=l.typography)||void 0===a?void 0:a[e.variant]);var i={style:{padding:void 0!==(null===(t=r)||void 0===t?void 0:t.padding)?r.padding:0,fontSize:null===(n=r)||void 0===n?void 0:n.fontSize,opacity:1,background:k.a[100]}};return void 0!==e.width&&i.style&&(i.style.width=e.width),i}()),inputRef:c,value:i,onBlur:function(){s(i)},onChange:function(e){o(e.target.value)},onKeyDown:function(t){var n,a;if("Enter"!==t.key){var r="Backspace"===t.key&&(t.metaKey||t.ctrlKey),o=0===(null===(n=c.current)||void 0===n?void 0:n.selectionStart)&&0===(null===(a=c.current)||void 0===a?void 0:a.selectionEnd);r&&o&&e.onSpecialBackspace&&e.onSpecialBackspace()}else s(i)},onPaste:function(t){var n=t.clipboardData.getData("text/plain");if(""!==n){var a=n.split("\n");if(a.length>1&&void 0!==e.onPasteOverflow){t.preventDefault();var r=function(e){var t,n;null===c.current||null===c.current.selectionStart||null===c.current.selectionEnd?(t=i,n=""):(t=i.slice(0,c.current.selectionStart),n=i.slice(c.current.selectionEnd));var a=t+e[0],r=e.slice(1);return r[r.length-1]+=n,[a,r]}(a),l=Object(d.a)(r,2),u=l[0],h=l[1];o(u),s(u),e.onPasteOverflow(h)}}},fullWidth:!0,"data-testid":"EditableLine"})},O=n(186),j=n(153),w=n(101),L=n.n(w),C=n(72),B=function(e){return/^\s+$/.test(e)},x=function(e){return B(e)?"\xa0":e},S=n(149),F=Object(S.a)((function(e){return{root:{whiteSpace:"pre","&:hover":{color:e.palette.secondary.main},cursor:"pointer",fontFamily:"PoriChord"}}}))(C.a),I=function(e){return r.a.createElement(F,{variant:"h5",display:"inline","data-testid":"Chord"},function(){var t=e.children;return t.endsWith(" ")?t:x(t+=" ")}())},A=n(99),P=n(98),T=n.n(P),M=Object(u.a)({root:{color:"white"}})(T.a),N=Object(u.a)((function(e){return{tooltip:{padding:0,background:Object(A.fade)(e.palette.secondary.light,.9),margin:0}}}))(j.a),R=Object(u.a)((function(e){return{root:{"&:hover":{color:e.palette.primary.main},cursor:"pointer"}}}))(C.a),D=Object(u.a)((function(e){return{root:{whiteSpace:"pre","&:hover":{backgroundColor:e.palette.primary.light},cursor:"pointer"}}}))(C.a),H=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),i=n[0],o=n[1],c=e.chordBlock.lyricTokens;0===c.length&&(c=["\xa0"]);var s,u=function(t){return function(n){0!==t&&e.onBlockSplit&&e.onBlockSplit(e.chordBlock,t),o(!0),n.stopPropagation()}},h=c.map((function(e,t){return function(e,t){var n,a={variant:"h5",display:"inline","data-testid":"Token-".concat(t)},i=r.a.createElement(O.a,{onClick:u(t),"data-testid":"ChordEditButton"},r.a.createElement(M,null));return n=B(e)?r.a.createElement(D,a,e):r.a.createElement(R,a,e),r.a.createElement(N,{key:t,title:i,placement:"top-start",disableFocusListener:!0,interactive:!0},n)}(e,t)}));return s=i?r.a.createElement(m.a,{"data-testid":"ChordEdit"},r.a.createElement(E,{width:"5em",variant:"h5",onFinish:function(t){e.onChordChange&&e.onChordChange(e.chordBlock,t),o(!1)}},e.chordBlock.chord)):r.a.createElement(m.a,{onClick:u(0)},r.a.createElement(I,null,e.chordBlock.chord)),r.a.createElement(m.a,{display:"inline-block"},r.a.createElement(l.a,{container:!0,direction:"column",component:"span","data-testid":e["data-testid"]},r.a.createElement(l.a,{item:!0},s),r.a.createElement(l.a,{item:!0,"data-testid":"Lyric"},r.a.createElement(r.a.Fragment,null,h))))},z=n(102),V=n.n(z),W=n(29),_=n(30),J=function(e){return JSON.stringify(e,(function(e,t){if("id"!==e)return t}))},U=function(){function e(t){Object(W.a)(this,e),this.elements=void 0,this.elements=void 0!==t?t:[]}return Object(_.a)(e,[{key:"indexOf",value:function(e){var t=this.elements.findIndex((function(t){return t.id===e}));if(t<0)throw new Error("Can't find element inside collection");return t}},{key:"addAfter",value:function(e){for(var t,n=this.indexOf(e.id),a=arguments.length,r=new Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];(t=this.elements).splice.apply(t,[n+1,0].concat(r))}},{key:"addBeginning",value:function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];(e=this.elements).splice.apply(e,[0,0].concat(n))}},{key:"remove",value:function(e){var t=this.indexOf(e.id);return this.elements.splice(t,1)[0]}}]),e}(),K=n(66),G=n.n(K),Y=function(e){var t=e.match(/((\w|')+|[^\w'])/g);return null===t?[]:t},$=n(19),q=n(15),Q=$.d({chord:$.c,lyric:$.c,type:$.b("ChordBlock")}),Z=function(){function e(t){var n=t.chord,a=t.lyric;Object(W.a)(this,e),this.id=void 0,this.chord=void 0,this.lyric=void 0,this.type=void 0,this.id=G.a.generate(),this.chord=n,this.lyric=a,this.type="ChordBlock"}return Object(_.a)(e,[{key:"serialize",value:function(){return J(this)}},{key:"split",value:function(t){if(0===t)throw new Error("Split index can't be zero");var n=this.lyricTokens,a=n.slice(0,t),r=n.slice(t),i=new e({chord:this.chord,lyric:a.join("")});return this.chord="",this.lyric=r.join(""),i}},{key:"lyricTokens",get:function(){return Y(this.lyric)}}],[{key:"fromValidatedFields",value:function(t){return new e({chord:t.chord,lyric:t.lyric})}},{key:"deserialize",value:function(t){var n=Object(q.parseJSON)(t,(function(){return new Error("Failed to parse json string")}));if(Object(q.isLeft)(n))return n;var a=n.right,r=Q.decode(a);return Object(q.isLeft)(r)?Object(q.left)(new Error("Invalid Chord Block object")):Object(q.right)(new e({chord:r.right.chord,lyric:r.right.lyric}))}}]),e}(),X={root:{color:L.a[300]}},ee=Object(u.a)(X)(V.a),te=Object(u.a)((function(e){return{contained:{backgroundColor:"transparent","&:hover":{backgroundColor:e.palette.primary.dark}}}}))(O.a),ne=Object(u.a)({tooltip:{padding:0,background:"transparent",margin:0}})(j.a),ae=Object(u.a)((function(e){return{root:{"&:hover":{backgroundColor:k.a[100]}}}}))(m.a),re=function(e){var t=e.chordLine.chordBlocks;0===t.length&&(t=[new Z({chord:"",lyric:""})]);var n=function(t,n){e.chordLine.setChord(t,n),e.onChangeLine&&e.onChangeLine(e.chordLine)},a=function(t,n){e.chordLine.splitBlock(t,n),e.onChangeLine&&e.onChangeLine(e.chordLine)},i=t.map((function(e,t){return r.a.createElement(H,{key:e.id,chordBlock:e,onChordChange:n,onBlockSplit:a,"data-testid":"Block-".concat(t)})}));return r.a.createElement(ne,{placement:"right",title:r.a.createElement(te,{onClick:e.onRemove,"data-testid":"RemoveButton"},r.a.createElement(ee,null)),interactive:!0},r.a.createElement(ae,{"data-testid":"NoneditableLine",onClick:e.onEdit},i))},ie=function(e){var t,n=Object(a.useState)(!1),i=Object(d.a)(n,2),o=i[0],c=i[1],l=Object(a.useState)(!1),s=Object(d.a)(l,2),u=s[0],h=s[1],f=function(){c(!0)},v=function(t){c(!1),e.chordLine.replaceLyrics(t),e.onChangeLine&&e.onChangeLine(e.chordLine)},g=function(){e.onAddLine&&e.onAddLine(e.chordLine)},y=function(){u||(h(!0),e.onRemoveLine&&setTimeout((function(){e.onRemoveLine&&e.onRemoveLine(e.chordLine)}),250))},b=function(t){e.onPasteOverflow&&(e.onPasteOverflow(e.chordLine,t),c(!1))},k=function(){e.onMergeWithPreviousLine&&(e.onMergeWithPreviousLine(e.chordLine)&&c(!1))},O=function(){return r.a.createElement(re,{chordLine:e.chordLine,onChangeLine:e.onChangeLine,onAdd:g,onRemove:y,onEdit:f})};t=o?r.a.createElement(r.a.Fragment,null,O(),function(){var t=e.chordLine.lyrics;return r.a.createElement(m.a,{position:"absolute",left:"0",bottom:"2px",width:"100%"},r.a.createElement(E,{variant:"h5",onFinish:v,onPasteOverflow:b,onSpecialBackspace:k},t))}()):O();var j=u?"up":"down";return r.a.createElement(p.a,{direction:j,in:!u,timeout:250},r.a.createElement(m.a,{borderBottom:1,borderColor:"grey.50",width:"100%",position:"relative","data-testid":e["data-testid"]},t))},oe=n(70),ce=n(68),le=n(71),se=n(54),de=function(){var e=new se.DiffMatchPatch;return e.diffTimeout=0,e.matchThreshold=0,e}(),ue=function(){function e(t){Object(W.a)(this,e),this.chordLine=void 0,this.currBlockIndex=void 0,this.currCharIndex=void 0,this.blockBuffer=void 0,this.prependLyrics=void 0,this.chordLine=t,this.currBlockIndex=0,this.currCharIndex=0,this.blockBuffer=t.elements.map((function(){return""})),this.prependLyrics=""}return Object(_.a)(e,[{key:"atBlockBoundary",value:function(){return 0===this.currCharIndex}},{key:"currentBlock",value:function(){return this.chordLine.elements[this.currBlockIndex]}},{key:"currentChar",value:function(){return this.currentBlock().lyric.charAt(this.currCharIndex)}},{key:"nextChar",value:function(){this.currCharIndex+=1,this.currCharIndex>=this.currentBlock().lyric.length&&(this.currBlockIndex+=1,this.currCharIndex=0)}},{key:"skip",value:function(e){if(this.currentChar()!==e)throw new Error("Mismatched characters when skipping");this.blockBuffer[this.currBlockIndex]+=e,this.nextChar()}},{key:"insert",value:function(e){if(this.atBlockBoundary()){var t=this.currBlockIndex-1;t>=0?this.blockBuffer[t]+=e:this.prependLyrics+=e}else this.blockBuffer[this.currBlockIndex]+=e}},{key:"delete",value:function(e){if(this.currentChar()!==e)throw new Error("Mismatched characters when deleting");this.nextChar()}},{key:"finish",value:function(){for(var e=0;e<this.chordLine.elements.length;e++)this.chordLine.elements[e].lyric=this.blockBuffer[e];""!==this.prependLyrics&&this.chordLine.elements.splice(0,0,new Z({chord:"",lyric:this.prependLyrics})),this.chordLine.normalizeBlocks()}}]),e}(),he=function(e,t){var n=de.diff_main(e.lyrics,t);de.diff_cleanupSemanticLossless(n);var a,r=new ue(e),i=Object(le.a)(n);try{for(i.s();!(a=i.n()).done;){var o,c=a.value,l=c[0],s=Object(le.a)(c[1]);try{for(s.s();!(o=s.n()).done;){var d=o.value;switch(l){case se.DiffOperation.DIFF_EQUAL:r.skip(d);break;case se.DiffOperation.DIFF_INSERT:r.insert(d);break;case se.DiffOperation.DIFF_DELETE:r.delete(d)}}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}r.finish(),function(e){var t,n=[],a=Object(le.a)(e.elements);try{for(a.s();!(t=a.n()).done;){var r=t.value;""===r.lyric&&""===r.chord||n.push(r)}}catch(u){a.e(u)}finally{a.f()}e.elements=n}(e),function(e){for(var t=e.elements,n=0;n<t.length;n++){var a=t[n];if(""===a.lyric){if(n>0&&t[n-1].lyric.length>1&&t[n-1].lyric.endsWith(" ")){var r=t[n-1],i=r.lyric.length-1;r.lyric=r.lyric.slice(0,i)}a.lyric=" "}}}(e)},fe=$.d({elements:$.a(Q),type:$.b("ChordLine")}),me=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(e){var a;return Object(W.a)(this,n),void 0===e&&(e=[new Z({chord:"",lyric:""})]),(a=t.call(this,e)).id=void 0,a.type=void 0,a.id=G.a.generate(),a.type="ChordLine",a}return Object(_.a)(n,[{key:"serialize",value:function(){return J(this)}},{key:"replaceLyrics",value:function(e){e!==this.lyrics&&he(this,e)}},{key:"setChord",value:function(e,t){var n=this.indexOf(e.id);this.elements[n].chord=t,this.normalizeBlocks()}},{key:"splitBlock",value:function(e,t){var n=this.indexOf(e.id),a=this.elements[n].split(t);this.elements.splice(n,0,a)}},{key:"normalizeBlocks",value:function(){for(var e=[],t=0;t<this.elements.length;t++){var n=this.elements[t];if(""===n.chord&&e.length>0)e[e.length-1].lyric+=n.lyric;else e.push(n)}e.length!==this.elements.length&&(this.elements=e)}},{key:"clone",value:function(){var e=new n(this.elements);return e.id=this.id,e}},{key:"chordBlocks",get:function(){return this.elements}},{key:"lyrics",get:function(){return this.chordBlocks.map((function(e){return e.lyric})).join("")}}],[{key:"fromValidatedFields",value:function(e){return new n(e.elements.map((function(e){return Z.fromValidatedFields(e)})))}},{key:"deserialize",value:function(e){var t=Object(q.parseJSON)(e,(function(){return new Error("Failed to parse json string")}));if(Object(q.isLeft)(t))return t;var n=t.right,a=fe.decode(n);return Object(q.isLeft)(a)?Object(q.left)(new Error("Invalid Chord Line object")):Object(q.right)(this.fromValidatedFields(a.right))}},{key:"fromLyrics",value:function(e){return new n([new Z({chord:"",lyric:e})])}}]),n}(U),pe=n(189),ve=n(79),ge=n(103),ye=n.n(ge),be=Object(S.a)({root:{"&:hover .MuiDivider-root":{backgroundColor:"rgba(0, 0, 0, 0.25)"}}})(l.a),ke=Object(S.a)({tooltip:{padding:0,background:"transparent",margin:0}})(j.a),Ee=Object(S.a)({root:{width:"100%",backgroundColor:"transparent"}})(pe.a),Oe=Object(S.a)((function(e){return{root:{color:e.palette.primary.main}}}))(ye.a),je=function(e){var t=Object(ve.a)();return r.a.createElement(ke,{title:r.a.createElement(O.a,{"data-testid":"AddButton",onClick:e.onAdd},r.a.createElement(Oe,null)),interactive:!0,placement:"right"},r.a.createElement(be,{container:!0,direction:"column",justify:"center",onClick:e.onAdd,"data-testid":e["data-testid"],style:{minHeight:t.spacing(3)}},r.a.createElement(Ee,null)))},we=Object(u.a)({root:{width:"auto"}})(h.a),Le=function(e){var t=function(){var t=new me;e.song.addBeginning(t),s()},n=function(t){var n=new me;e.song.addAfter(t,n),s()},a=function(t){e.song.remove(t),s()},i=function(e){s()},o=function(t,n){var a,r=n.map((function(e){return me.fromLyrics(e)}));(a=e.song).addAfter.apply(a,[t].concat(Object(f.a)(r))),s()},c=function(t){return!!e.song.mergeLineWithPrevious(t)&&(s(),!0)},s=function(){e.onSongChanged&&e.onSongChanged(e.song)};return r.a.createElement(we,{elevation:0},r.a.createElement(l.a,{container:!0},r.a.createElement(l.a,{item:!0,xs:1}),r.a.createElement(l.a,{item:!0,xs:10},function(){var l=e.song.chordLines.flatMap((function(e,t){return[r.a.createElement(ie,{key:e.id,chordLine:e,onAddLine:n,onRemoveLine:a,onChangeLine:i,onPasteOverflow:o,onMergeWithPreviousLine:c,"data-testid":"Line-".concat(t)}),r.a.createElement(je,{key:"NewLine-"+e.id,onAdd:function(){n(e)},"data-testid":"NewLine-".concat(t)})]})),s=r.a.createElement(je,{key:"NewLine-Top",onAdd:t,"data-testid":"NewLine-Top"});return l.splice(0,0,s),l}()),r.a.createElement(l.a,{item:!0,xs:1})))},Ce=n(112),Be=Object(S.a)({root:{color:k.a[400]}})(C.a),xe=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),i=n[0],o=n[1],c=function(){o(!0)},l=function(t){o(!1),e.onValueChange&&e.onValueChange(t)},s=i?function(){if("inherit"===e.variant||"srOnly"===e.variant)throw new Error("can't have these variant types");return r.a.createElement(E,{variant:e.variant,onFinish:l,"data-testid":"EditableLine"},e.children)}():function(){e.children,e.placeholder,e.onValueChange;var t=Object(Ce.a)(e,["children","placeholder","onValueChange"]);return""===e.children&&void 0!==e.placeholder?r.a.createElement(Be,Object.assign({},t,{onClick:c}),e.placeholder):r.a.createElement(C.a,Object.assign({},t,{onClick:c}),x(e.children))}();return r.a.createElement(m.a,null,s)},Se=function(e){var t=Object(ve.a)(),n=function(){e.onSongChanged&&e.onSongChanged(e.song)},a=r.a.createElement(l.a,{item:!0,container:!0,xs:3,direction:"column"},r.a.createElement(l.a,{item:!0},r.a.createElement(C.a,{display:"inline",variant:"caption"},"As heard from:"," "),r.a.createElement(xe,{variant:"caption",placeholder:"https://www.youtube.com/watch?v=dM9zwZCOmjM",onValueChange:function(t){e.song.asHeardFrom=t,n()},"data-testid":"AsHeardAt"},e.song.asHeardFrom))),i=r.a.createElement(l.a,{item:!0,xs:6},r.a.createElement(xe,{variant:"h4",align:"center","data-testid":"SongTitle",placeholder:"Song Title",onValueChange:function(t){e.song.title=t,n()}},e.song.title)),o=r.a.createElement(l.a,{item:!0,container:!0,xs:3,direction:"column"},r.a.createElement(l.a,{item:!0},r.a.createElement(C.a,{display:"inline",variant:"subtitle2"},"Composed by:"," "),r.a.createElement(xe,{variant:"subtitle2",placeholder:"Stock Waterman",onValueChange:function(t){e.song.composedBy=t,n()},"data-testid":"ComposedBy"},e.song.composedBy)),r.a.createElement(l.a,{item:!0},r.a.createElement(C.a,{display:"inline",variant:"subtitle2"},"Performed by:"," "),r.a.createElement(xe,{variant:"subtitle2",placeholder:"Rick Astley",onValueChange:function(t){e.song.performedBy=t,n()},"data-testid":"PerformedBy"},e.song.performedBy)));return r.a.createElement(m.a,{paddingTop:t.spacing(1),paddingLeft:t.spacing(.5),paddingRight:t.spacing(.5),"data-testid":"Header"},r.a.createElement(l.a,{container:!0},a,i,o))},Fe=n(76),Ie=n.n(Fe),Ae=n(104),Pe=n(199),Te=n(200),Me=n(190),Ne=n(105),Re=n.n(Ne),De=n(106),He=n.n(De),ze=n(107),Ve=n.n(ze),We=$.d({title:$.c,composedBy:$.c,performedBy:$.c,asHeardFrom:$.c}),_e=$.d({elements:$.a(fe),metadata:We}),Je=function(e){Object(oe.a)(n,e);var t=Object(ce.a)(n);function n(e,a){var r;return Object(W.a)(this,n),void 0===e&&(e=[new me]),(r=t.call(this,e)).metadata=void 0,r.metadata=void 0!==a?a:{title:"",composedBy:"",performedBy:"",asHeardFrom:""},r}return Object(_.a)(n,[{key:"serialize",value:function(){return J(this)}},{key:"clone",value:function(){return new n(this.elements,this.metadata)}},{key:"mergeLineWithPrevious",value:function(e){var t,n=this.indexOf(e.id);if(0===n)return!1;var a=this.chordLines[n-1],r=a.chordBlocks.length-1;a.chordBlocks[r].lyric+=" ";var i=this.chordLines[n];return(t=a.chordBlocks).push.apply(t,Object(f.a)(i.chordBlocks)),this.chordLines.splice(n,1),!0}},{key:"chordLines",get:function(){return this.elements}},{key:"title",get:function(){return this.metadata.title},set:function(e){this.metadata.title=e}},{key:"performedBy",get:function(){return this.metadata.performedBy},set:function(e){this.metadata.performedBy=e}},{key:"composedBy",get:function(){return this.metadata.composedBy},set:function(e){this.metadata.composedBy=e}},{key:"asHeardFrom",get:function(){return this.metadata.asHeardFrom},set:function(e){this.metadata.asHeardFrom=e}}],[{key:"fromValidatedFields",value:function(e){return new n(e.elements.map((function(e){return me.fromValidatedFields(e)})),e.metadata)}},{key:"deserialize",value:function(e){var t=Object(q.parseJSON)(e,(function(){return new Error("Failed to parse json string")}));if(Object(q.isLeft)(t))return t;var n=t.right,a=_e.decode(n);return Object(q.isLeft)(a)?Object(q.left)(new Error("Invalid Chord Song object")):Object(q.right)(this.fromValidatedFields(a.right))}},{key:"fromLyricsLines",value:function(e){return new n(e.map((function(e){return me.fromLyrics(e)})))}}]),n}(U),Ue=n(67),Ke=Object(S.a)((function(e){return{root:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}))(Pe.a),Ge=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),i=n[0],o=n[1],c=Object(Ue.b)().enqueueSnackbar;function l(){var t=this.files;if(null!==t)if(t.length>1)c("Multiple files selected, only one file expected",{variant:"error"});else{var n=t.item(0);if(null!==n){var a=new FileReader;a.onload=function(t){if(!(null===t.target||null===t.target.result||t.target.result instanceof ArrayBuffer)){var n=Je.deserialize(t.target.result);Object(q.isLeft)(n)?c("Can't load file, Song file failed validation",{variant:"error"}):e.onLoad&&e.onLoad(n.right)}},a.readAsText(n)}else c("Could not retrieve file from file dialog",{variant:"error"})}}var s=function(){var e=Object(Ae.a)(Ie.a.mark((function e(){var t;return Ie.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=document.createElement("input")).type="file",t.addEventListener("change",l),t.click();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(Ke,{icon:r.a.createElement(Te.a,null),open:i,onOpen:function(){o(!0)},onClose:function(){o(!1)},ariaLabel:"SpeedDial"},r.a.createElement(Me.a,{icon:r.a.createElement(Re.a,null),tooltipTitle:"Save",onClick:function(){var t=new Blob([e.song.serialize()],{type:"application/json"}),n=URL.createObjectURL(t),a=document.createElement("a");a.download="chord_paper_song.json",""!==e.song.title&&(a.download=e.song.title+".json"),a.href=n,a.click(),URL.revokeObjectURL(n)}}),r.a.createElement(Me.a,{icon:r.a.createElement(He.a,null),tooltipTitle:"Load",onClick:s}),r.a.createElement(Me.a,{icon:r.a.createElement(Ve.a,null),tooltipTitle:"New Song",onClick:e.onNewSong}))},Ye=Object(u.a)((function(e){return{root:{margin:e.spacing(5),minHeight:e.spacing(92),minWidth:e.spacing(92)}}}))(h.a),$e=function(e){var t=Object(a.useState)(e.initialSong),n=Object(d.a)(t,2),i=n[0],o=n[1],c=function(e){o(e.clone())};return r.a.createElement(Ye,{elevation:3,"data-testid":"ChordPaper"},r.a.createElement(Se,{"data-testid":"Header",song:i,onSongChanged:c}),r.a.createElement(Le,{song:i,onSongChanged:c}),r.a.createElement(Ge,{song:i,onLoad:function(e){o(e.clone())},onNewSong:function(){o(new Je)}}))},qe=["We're no strangers to love","You know the rules and so do I","A full commitment's what I'm thinking of","You wouldn't get this from any other guy","I just wanna tell you how I'm feeling","Gotta make you understand","Never gonna give you up","Never gonna let you down","Never gonna run around and desert you","Never gonna make you cry","Never gonna say goodbye","Never gonna tell a lie and hurt you"],Qe=["A","Bb7","Cm","D/C#","Em7","Fmaj7","G^"],Ze=function(){var e=qe.map((function(e){return Xe(e)}));return new Je(e)},Xe=function(e){var t=function(e,t){for(var n=Y(e),a=[],r=0;r<n.length;r+=t){var i=n.slice(r,r+t);a.push(i.join(""))}return a}(e,4).map((function(e){return new Z({chord:Qe[Math.floor(Math.random()*Qe.length)],lyric:e})}));return new me(t)},et=n(108),tt=n.n(et),nt=n(191),at=n(197),rt=n(185),it=n(192),ot=n(53),ct=n(109),lt=n.n(ct),st=n(110),dt=n.n(st),ut=Object(S.a)((function(e){return{root:{padding:e.spacing(3),color:k.a[600]}}}))(C.a),ht=Object(S.a)((function(e){return{root:{paddingLeft:e.spacing(3)}}}))(nt.a),ft=function(){var e={variant:"h6"},t={textDecoration:"none",color:"inherit"};return r.a.createElement(at.a,{variant:"permanent",anchor:"left"},r.a.createElement(ut,{variant:"h5"},"Chord Paper"),r.a.createElement(pe.a,null),r.a.createElement(rt.a,null,r.a.createElement(ot.b,{to:"/",style:t,"data-testid":"Menu-HomeButton"},r.a.createElement(ht,{key:"Music",button:!0},r.a.createElement(lt.a,null),r.a.createElement(it.a,{primary:"Music",primaryTypographyProps:e}))),r.a.createElement(ot.b,{to:"/about",style:t,"data-testid":"Menu-AboutButton"},r.a.createElement(ht,{key:"About",button:!0},r.a.createElement(dt.a,null),r.a.createElement(it.a,{primary:"About",primaryTypographyProps:e})))))},mt=n(12),pt=Object(S.a)((function(e){return{root:{margin:e.spacing(5),padding:e.spacing(5),minHeight:e.spacing(46),minWidth:e.spacing(92)}}}))(h.a),vt=function(){return r.a.createElement(l.a,{container:!0,"data-testid":"About"},r.a.createElement(l.a,{item:!0,xs:3}),r.a.createElement(l.a,{item:!0,xs:6},r.a.createElement(pt,null,r.a.createElement(C.a,{variant:"h6"},"About Chord Paper"),r.a.createElement(C.a,{variant:"h6"},"\xa0"),r.a.createElement(C.a,null,"Chord Paper makes writing and reading chord sheets easier than the traditional monospace font formatting. It's a passion project born out of frustration at the clunkiness of writing chords on a computer."),r.a.createElement(C.a,null,"\xa0"),r.a.createElement(C.a,null,"Hope you will find that Chord Paper helps you focus more of your musical time on playing and listening, and less on formatting."))),r.a.createElement(l.a,{item:!0,xs:3}))},gt=Object(S.a)({root:{backgroundImage:"url(".concat(tt.a,")"),minHeight:"100vh"}})(l.a);var yt=function(){var e=Object(c.a)({palette:{primary:{main:"#4fc3f7",light:"#8bf6ff",dark:"#0093c4",contrastText:"#000000"},secondary:{main:"#844ffc",light:"#bb7eff",dark:"#4a1fc8",contrastText:"#ffffff"}},typography:{fontFamily:"Merriweather",fontWeightRegular:300}}),t=r.a.createElement(mt.c,null,r.a.createElement(mt.a,{exact:!0,path:"/"},r.a.createElement($e,{initialSong:Ze()})),r.a.createElement(mt.a,{exact:!0,path:"/about"},r.a.createElement(vt,null)));return r.a.createElement(s.a,{theme:e},r.a.createElement(Ue.a,null,r.a.createElement(ot.a,{basename:"/chord-paper-fe"},r.a.createElement(ft,null),r.a.createElement(gt,{container:!0,justify:"center"},r.a.createElement(l.a,{item:!0},t)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[125,1,2]]]);
//# sourceMappingURL=main.4145bfb7.chunk.js.map